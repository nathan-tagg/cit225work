SQL> 
SQL> -- STEP 4
SQL> @@item_inserts_lab.sql
SQL> -- ------------------------------------------------------------------
SQL> --  Program Name:	 item_inserts.sql
SQL> --  Lab Assignment: N/A
SQL> --  Program Author: Michael McLaughlin
SQL> --  Creation Date:  30-Jan-2018
SQL> -- ------------------------------------------------------------------
SQL> --  Change Log:
SQL> -- ------------------------------------------------------------------
SQL> --  Change Date	Change Reason
SQL> -- -------------  ---------------------------------------------------
SQL> 
SQL> --  ------------------------------------------------------------------
SQL> --  This seeds rows in a item table.
SQL> -- ------------------------------------------------------------------
SQL> --  - Insert 21 rows in the ITEM table.
SQL> -- ------------------------------------------------------------------
SQL> 
SQL> INSERT INTO item_lab
  2  ( item_lab_id
  3  , item_barcode
  4  , item_type
  5  , item_title
  6  , item_subtitle
  7  , item_rating
  8  , item_release_date
  9  , created_by
 10  , creation_date
 11  , last_updated_by
 12  , last_update_date )
 13  VALUES
 14  ( item_lab_s1.nextval
 15  ,'9736-05640-4'
 16  ,(SELECT	common_lookup_lab_id
 17    FROM	common_lookup_lab
 18    WHERE	common_lookup_context = 'ITEM_LAB'
 19    AND	common_lookup_type = 'DVD_WIDE_SCREEN')
 20  ,'The Hunt for Red October'
 21  ,'Special Collector''s Edition'
 22  ,'PG'
 23  ,'02-MAR-90'
 24  , 1001
 25  , SYSDATE
 26  , 1001
 27  , SYSDATE);

1 row created.

SQL> 
SQL> INSERT INTO item_lab
  2  ( item_lab_id
  3  , item_barcode
  4  , item_type
  5  , item_title
  6  , item_subtitle
  7  , item_rating
  8  , item_release_date
  9  , created_by
 10  , creation_date
 11  , last_updated_by
 12  , last_update_date )
 13  VALUES
 14  ( item_lab_s1.nextval
 15  ,'24543-02392'
 16  ,(SELECT	common_lookup_lab_id
 17    FROM	common_lookup_lab
 18    WHERE	common_lookup_context = 'ITEM_LAB'
 19    AND	common_lookup_type = 'DVD_WIDE_SCREEN')
 20  ,'Star Wars I'
 21  ,'Phantom Menace'
 22  ,'PG'
 23  ,'04-MAY-99'
 24  , 1001
 25  , SYSDATE
 26  , 1001
 27  , SYSDATE);

1 row created.

SQL> 
SQL> INSERT INTO item_lab
  2  ( item_lab_id
  3  , item_barcode
  4  , item_type
  5  , item_title
  6  , item_subtitle
  7  , item_rating
  8  , item_release_date
  9  , created_by
 10  , creation_date
 11  , last_updated_by
 12  , last_update_date )
 13  VALUES
 14  ( item_lab_s1.nextval
 15  ,'24543-5615'
 16  ,(SELECT	common_lookup_lab_id
 17    FROM	common_lookup_lab
 18    WHERE	common_lookup_context = 'ITEM_LAB'
 19    AND	common_lookup_type = 'DVD_FULL_SCREEN')
 20  ,'Star Wars II'
 21  ,'Attack of the Clones'
 22  ,'PG'
 23  ,'16-MAY-02'
 24  , 1001
 25  , SYSDATE
 26  , 1001
 27  , SYSDATE);

1 row created.

SQL> 
SQL> INSERT INTO item_lab
  2  ( item_lab_id
  3  , item_barcode
  4  , item_type
  5  , item_title
  6  , item_subtitle
  7  , item_rating
  8  , item_release_date
  9  , created_by
 10  , creation_date
 11  , last_updated_by
 12  , last_update_date )
 13  VALUES
 14  ( item_lab_s1.nextval
 15  ,'24543-05539'
 16  ,(SELECT	common_lookup_lab_id
 17    FROM	common_lookup_lab
 18    WHERE	common_lookup_context = 'ITEM_LAB'
 19    AND	common_lookup_type = 'DVD_WIDE_SCREEN')
 20  ,'Star Wars II'
 21  ,'Attack of the Clones'
 22  ,'PG'
 23  ,'16-MAY-02'
 24  , 1001
 25  , SYSDATE
 26  , 1001
 27  , SYSDATE);

1 row created.

SQL> 
SQL> INSERT INTO item_lab
  2  ( item_lab_id
  3  , item_barcode
  4  , item_type
  5  , item_title
  6  , item_subtitle
  7  , item_rating
  8  , item_release_date
  9  , created_by
 10  , creation_date
 11  , last_updated_by
 12  , last_update_date )
 13  VALUES
 14  ( item_lab_s1.nextval
 15  ,'24543-20309'
 16  ,(SELECT	common_lookup_lab_id
 17    FROM	common_lookup_lab
 18    WHERE	common_lookup_context = 'ITEM_LAB'
 19    AND	common_lookup_type = 'DVD_WIDE_SCREEN')
 20  ,'Star Wars III'
 21  ,'Revenge of the Sith'
 22  ,'PG13'
 23  ,'19-MAY-05'
 24  , 1001
 25  , SYSDATE
 26  , 1001
 27  , SYSDATE);

1 row created.

SQL> 
SQL> INSERT INTO item_lab
  2  ( item_lab_id
  3  , item_barcode
  4  , item_type
  5  , item_title
  6  , item_subtitle
  7  , item_rating
  8  , item_release_date
  9  , created_by
 10  , creation_date
 11  , last_updated_by
 12  , last_update_date )
 13  VALUES
 14  ( item_lab_s1.nextval
 15  ,'86936-70380'
 16  ,(SELECT	common_lookup_lab_id
 17    FROM	common_lookup_lab
 18    WHERE	common_lookup_context = 'ITEM_LAB'
 19    AND	common_lookup_type = 'DVD_WIDE_SCREEN')
 20  ,'The Chronicles of Narnia'
 21  ,'The Lion, the Witch and the Wardrobe','PG'
 22  ,'16-MAY-02'
 23  , 1001
 24  , SYSDATE
 25  , 1001
 26  , SYSDATE);

1 row created.

SQL> 
SQL> INSERT INTO item_lab
  2  ( item_lab_id
  3  , item_barcode
  4  , item_type
  5  , item_title
  6  , item_subtitle
  7  , item_rating
  8  , item_release_date
  9  , created_by
 10  , creation_date
 11  , last_updated_by
 12  , last_update_date )
 13  VALUES
 14  ( item_lab_s1.nextval
 15  ,'91493-06475'
 16  ,(SELECT	common_lookup_lab_id
 17    FROM	common_lookup_lab
 18    WHERE	common_lookup_context = 'ITEM_LAB'
 19    AND	common_lookup_type = 'XBOX')
 20  ,'RoboCop'
 21  ,''
 22  ,'Mature'
 23  ,'24-JUL-03'
 24  , 1001
 25  , SYSDATE
 26  , 1001
 27  , SYSDATE);

1 row created.

SQL> 
SQL> INSERT INTO item_lab
  2  ( item_lab_id
  3  , item_barcode
  4  , item_type
  5  , item_title
  6  , item_subtitle
  7  , item_rating
  8  , item_release_date
  9  , created_by
 10  , creation_date
 11  , last_updated_by
 12  , last_update_date )
 13  VALUES
 14  ( item_lab_s1.nextval
 15  ,'93155-11810'
 16  ,(SELECT	common_lookup_lab_id
 17    FROM	common_lookup_lab
 18    WHERE	common_lookup_context = 'ITEM_LAB'
 19    AND	common_lookup_type = 'XBOX')
 20  ,'Pirates of the Caribbean'
 21  ,''
 22  ,'Teen'
 23  ,'30-JUN-03'
 24  , 1001
 25  , SYSDATE
 26  , 1001
 27  , SYSDATE);

1 row created.

SQL> 
SQL> INSERT INTO item_lab
  2  ( item_lab_id
  3  , item_barcode
  4  , item_type
  5  , item_title
  6  , item_subtitle
  7  , item_rating
  8  , item_release_date
  9  , created_by
 10  , creation_date
 11  , last_updated_by
 12  , last_update_date )
 13  VALUES
 14  ( item_lab_s1.nextval
 15  ,'12725-00173'
 16  ,(SELECT	common_lookup_lab_id
 17    FROM	common_lookup_lab
 18    WHERE	common_lookup_context = 'ITEM_LAB'
 19    AND	common_lookup_type = 'XBOX')
 20  ,'The Chronicles of Narnia'
 21  ,'The Lion, the Witch and the Wardrobe'
 22  ,'Everyone'
 23  ,'30-JUN-03'
 24  , 1001
 25  , SYSDATE
 26  , 1001
 27  , SYSDATE);

1 row created.

SQL> 
SQL> INSERT INTO item_lab
  2  ( item_lab_id
  3  , item_barcode
  4  , item_type
  5  , item_title
  6  , item_subtitle
  7  , item_rating
  8  , item_release_date
  9  , created_by
 10  , creation_date
 11  , last_updated_by
 12  , last_update_date )
 13  VALUES
 14  ( item_lab_s1.nextval
 15  ,'45496-96128'
 16  ,(SELECT	common_lookup_lab_id
 17    FROM	common_lookup_lab
 18    WHERE	common_lookup_context = 'ITEM_LAB'
 19    AND	common_lookup_type = 'NINTENDO_GAMECUBE')
 20  ,'MarioKart'
 21  ,'Double Dash'
 22  ,'Everyone'
 23  ,'17-NOV-03'
 24  , 1001
 25  , SYSDATE
 26  , 1001
 27  , SYSDATE);

1 row created.

SQL> 
SQL> INSERT INTO item_lab
  2  ( item_lab_id
  3  , item_barcode
  4  , item_type
  5  , item_title
  6  , item_subtitle
  7  , item_rating
  8  , item_release_date
  9  , created_by
 10  , creation_date
 11  , last_updated_by
 12  , last_update_date )
 13  VALUES
 14  ( item_lab_s1.nextval
 15  ,'08888-32214'
 16  ,(SELECT	common_lookup_lab_id
 17    FROM	common_lookup_lab
 18    WHERE	common_lookup_context = 'ITEM_LAB'
 19    AND	common_lookup_type = 'PLAYSTATION2')
 20  ,'Splinter Cell'
 21  ,'Chaos Theory'
 22  ,'Teen'
 23  ,'08-APR-03'
 24  , 1001
 25  , SYSDATE
 26  , 1001
 27  , SYSDATE);

1 row created.

SQL> 
SQL> INSERT INTO item_lab
  2  ( item_lab_id
  3  , item_barcode
  4  , item_type
  5  , item_title
  6  , item_subtitle
  7  , item_rating
  8  , item_release_date
  9  , created_by
 10  , creation_date
 11  , last_updated_by
 12  , last_update_date )
 13  VALUES
 14  ( item_lab_s1.nextval
 15  ,'14633-14821'
 16  ,(SELECT	common_lookup_lab_id
 17    FROM	common_lookup_lab
 18    WHERE	common_lookup_context = 'ITEM_LAB'
 19    AND	common_lookup_type = 'PLAYSTATION2')
 20  ,'Need for Speed'
 21  ,'Most Wanted'
 22  ,'Everyone'
 23  ,'15-NOV-04'
 24  , 1001
 25  , SYSDATE
 26  , 1001
 27  , SYSDATE);

1 row created.

SQL> 
SQL> INSERT INTO item_lab
  2  ( item_lab_id
  3  , item_barcode
  4  , item_type
  5  , item_title
  6  , item_subtitle
  7  , item_rating
  8  , item_release_date
  9  , created_by
 10  , creation_date
 11  , last_updated_by
 12  , last_update_date )
 13  VALUES
 14  ( item_lab_s1.nextval
 15  ,'10425-29944'
 16  ,(SELECT	common_lookup_lab_id
 17    FROM	common_lookup_lab
 18    WHERE	common_lookup_context = 'ITEM_LAB'
 19    AND	common_lookup_type = 'XBOX')
 20  ,'The DaVinci Code'
 21  ,''
 22  ,'Teen'
 23  ,'19-MAY-06'
 24  , 1001
 25  , SYSDATE
 26  , 1001
 27  , SYSDATE);

1 row created.

SQL> 
SQL> INSERT INTO item_lab
  2  ( item_lab_id
  3  , item_barcode
  4  , item_type
  5  , item_title
  6  , item_subtitle
  7  , item_rating
  8  , item_release_date
  9  , created_by
 10  , creation_date
 11  , last_updated_by
 12  , last_update_date )
 13  VALUES
 14  ( item_lab_s1.nextval
 15  ,'52919-52057'
 16  ,(SELECT	common_lookup_lab_id
 17    FROM	common_lookup_lab
 18    WHERE	common_lookup_context = 'ITEM_LAB'
 19    AND	common_lookup_type = 'XBOX')
 20  ,'Cars'
 21  ,''
 22  ,'Everyone'
 23  ,'28-APR-06'
 24  , 1001
 25  , SYSDATE
 26  , 1001
 27  , SYSDATE);

1 row created.

SQL> 
SQL> INSERT INTO item_lab
  2  ( item_lab_id
  3  , item_barcode
  4  , item_type
  5  , item_title
  6  , item_subtitle
  7  , item_rating
  8  , item_release_date
  9  , created_by
 10  , creation_date
 11  , last_updated_by
 12  , last_update_date )
 13  VALUES
 14  ( item_lab_s1.nextval
 15  ,'9689-80547-3'
 16  ,(SELECT	common_lookup_lab_id
 17    FROM	common_lookup_lab
 18    WHERE	common_lookup_context = 'ITEM_LAB'
 19    AND	common_lookup_type = 'BLU-RAY')
 20  ,'Beau Geste'
 21  ,''
 22  ,'PG'
 23  ,'01-MAR-92'
 24  , 1001
 25  , SYSDATE
 26  , 1001
 27  , SYSDATE);

1 row created.

SQL> 
SQL> INSERT INTO item_lab
  2  ( item_lab_id
  3  , item_barcode
  4  , item_type
  5  , item_title
  6  , item_subtitle
  7  , item_rating
  8  , item_release_date
  9  , created_by
 10  , creation_date
 11  , last_updated_by
 12  , last_update_date )
 13  VALUES
 14  ( item_lab_s1.nextval
 15  ,'53939-64103'
 16  ,(SELECT	common_lookup_lab_id
 17    FROM	common_lookup_lab
 18    WHERE	common_lookup_context = 'ITEM_LAB'
 19    AND	common_lookup_type = 'BLU-RAY')
 20  ,'I Remember Mama'
 21  ,''
 22  ,'NR'
 23  ,'05-JAN-98'
 24  , 1001
 25  , SYSDATE
 26  , 1001
 27  , SYSDATE);

1 row created.

SQL> 
SQL> INSERT INTO item_lab
  2  ( item_lab_id
  3  , item_barcode
  4  , item_type
  5  , item_title
  6  , item_subtitle
  7  , item_rating
  8  , item_release_date
  9  , created_by
 10  , creation_date
 11  , last_updated_by
 12  , last_update_date )
 13  VALUES
 14  ( item_lab_s1.nextval
 15  ,'24543-01292'
 16  ,(SELECT	common_lookup_lab_id
 17    FROM	common_lookup_lab
 18    WHERE	common_lookup_context = 'ITEM_LAB'
 19    AND	common_lookup_type = 'BLU-RAY')
 20  ,'Tora! Tora! Tora!'
 21  ,'The Attack on Pearl Harbor'
 22  ,'G'
 23  ,'02-NOV-99'
 24  , 1001
 25  , SYSDATE
 26  , 1001
 27  , SYSDATE);

1 row created.

SQL> 
SQL> INSERT INTO item_lab
  2  ( item_lab_id
  3  , item_barcode
  4  , item_type
  5  , item_title
  6  , item_subtitle
  7  , item_rating
  8  , item_release_date
  9  , created_by
 10  , creation_date
 11  , last_updated_by
 12  , last_update_date )
 13  VALUES
 14  ( item_lab_s1.nextval
 15  ,'43396-60047'
 16  ,(SELECT	common_lookup_lab_id
 17    FROM	common_lookup_lab
 18    WHERE	common_lookup_context = 'ITEM_LAB'
 19    AND	common_lookup_type = 'BLU-RAY')
 20  ,'A Man for All Seasons'
 21  ,''
 22  ,'G'
 23  ,'28-JUN-94'
 24  , 1001
 25  , SYSDATE
 26  , 1001
 27  , SYSDATE);

1 row created.

SQL> 
SQL> INSERT INTO item_lab
  2  ( item_lab_id
  3  , item_barcode
  4  , item_type
  5  , item_title
  6  , item_subtitle
  7  , item_rating
  8  , item_release_date
  9  , created_by
 10  , creation_date
 11  , last_updated_by
 12  , last_update_date )
 13  VALUES
 14  ( item_lab_s1.nextval
 15  ,'43396-70603'
 16  ,(SELECT	common_lookup_lab_id
 17    FROM	common_lookup_lab
 18    WHERE	common_lookup_context = 'ITEM_LAB'
 19    AND	common_lookup_type = 'BLU-RAY')
 20  ,'Hook'
 21  ,''
 22  ,'PG'
 23  ,'11-DEC-91'
 24  , 1001
 25  , SYSDATE
 26  , 1001
 27  , SYSDATE);

1 row created.

SQL> 
SQL> INSERT INTO item_lab
  2  ( item_lab_id
  3  , item_barcode
  4  , item_type
  5  , item_title
  6  , item_subtitle
  7  , item_rating
  8  , item_release_date
  9  , created_by
 10  , creation_date
 11  , last_updated_by
 12  , last_update_date )
 13  VALUES
 14  ( item_lab_s1.nextval
 15  ,'85391-13213'
 16  ,(SELECT	common_lookup_lab_id
 17    FROM	common_lookup_lab
 18    WHERE	common_lookup_context = 'ITEM_LAB'
 19    AND	common_lookup_type = 'BLU-RAY')
 20  ,'Around the World in 80 Days'
 21  ,''
 22  ,'G'
 23  ,'04-DEC-92'
 24  , 1001
 25  , SYSDATE
 26  , 1001
 27  , SYSDATE);

1 row created.

SQL> 
SQL> INSERT INTO item_lab
  2  ( item_lab_id
  3  , item_barcode
  4  , item_type
  5  , item_title
  6  , item_subtitle
  7  , item_rating
  8  , item_release_date
  9  , created_by
 10  , creation_date
 11  , last_updated_by
 12  , last_update_date )
 13  VALUES
 14  ( item_lab_s1.nextval
 15  ,'85391-10843'
 16  ,(SELECT	common_lookup_lab_id
 17    FROM	common_lookup_lab
 18    WHERE	common_lookup_context = 'ITEM_LAB'
 19    AND	common_lookup_type = 'BLU-RAY')
 20  ,'Camelot'
 21  ,''
 22  ,'G'
 23  ,'15-MAY-98'
 24  , 1001
 25  , SYSDATE
 26  , 1001
 27  , SYSDATE);

1 row created.

SQL> 
SQL> -- ------------------------------------------------------------------
SQL> --  Display the 21 inserts into the item table.
SQL> -- ------------------------------------------------------------------
SQL> SET PAGESIZE 99
SQL> COL item_lab_id		    FORMAT 9999  HEADING "Item|ID #"
SQL> COL common_lookup_meaning	FORMAT A20  HEADING "Item Description"
SQL> COL item_title		FORMAT A30  HEADING "Item Title"
SQL> COL item_release_date	FORMAT A11  HEADING "Item|Release|Date"
SQL> SELECT   i.item_lab_id
  2  ,	      cl.common_lookup_meaning
  3  ,	      i.item_title
  4  ,	      i.item_release_date
  5  FROM     item_lab i INNER JOIN common_lookup_lab cl ON i.item_type = cl.common_lookup_lab_id;

                                                          Item                  
 Item                                                     Release               
 ID # Item Description     Item Title                     Date                  
----- -------------------- ------------------------------ -----------           
 1001 DVD: Wide Screen     The Hunt for Red October       02-MAR-90             
 1002 DVD: Wide Screen     Star Wars I                    04-MAY-99             
 1003 DVD: Full Screen     Star Wars II                   16-MAY-02             
 1004 DVD: Wide Screen     Star Wars II                   16-MAY-02             
 1005 DVD: Wide Screen     Star Wars III                  19-MAY-05             
 1006 DVD: Wide Screen     The Chronicles of Narnia       16-MAY-02             
 1007 XBOX                 RoboCop                        24-JUL-03             
 1008 XBOX                 Pirates of the Caribbean       30-JUN-03             
 1009 XBOX                 The Chronicles of Narnia       30-JUN-03             
 1010 Nintendo Gamecube    MarioKart                      17-NOV-03             
 1011 Playstation2         Splinter Cell                  08-APR-03             
 1012 Playstation2         Need for Speed                 15-NOV-04             
 1013 XBOX                 The DaVinci Code               19-MAY-06             
 1014 XBOX                 Cars                           28-APR-06             
 1015 Blu-ray              Beau Geste                     01-MAR-92             
 1016 Blu-ray              I Remember Mama                05-JAN-98             
 1017 Blu-ray              Tora! Tora! Tora!              02-NOV-99             
 1018 Blu-ray              A Man for All Seasons          28-JUN-94             
 1019 Blu-ray              Hook                           11-DEC-91             
 1020 Blu-ray              Around the World in 80 Days    04-DEC-92             
 1021 Blu-ray              Camelot                        15-MAY-98             
 1022 DVD: Wide Screen     The Hunt for Red October       02-MAR-90             
 1023 DVD: Wide Screen     Star Wars I                    04-MAY-99             
 1024 DVD: Full Screen     Star Wars II                   16-MAY-02             
 1025 DVD: Wide Screen     Star Wars II                   16-MAY-02             
 1026 DVD: Wide Screen     Star Wars III                  19-MAY-05             
 1027 DVD: Wide Screen     The Chronicles of Narnia       16-MAY-02             
 1028 XBOX                 RoboCop                        24-JUL-03             
 1029 XBOX                 Pirates of the Caribbean       30-JUN-03             
 1030 XBOX                 The Chronicles of Narnia       30-JUN-03             
 1031 Nintendo Gamecube    MarioKart                      17-NOV-03             
 1032 Playstation2         Splinter Cell                  08-APR-03             
 1033 Playstation2         Need for Speed                 15-NOV-04             
 1034 XBOX                 The DaVinci Code               19-MAY-06             
 1035 XBOX                 Cars                           28-APR-06             
 1036 Blu-ray              Beau Geste                     01-MAR-92             
 1037 Blu-ray              I Remember Mama                05-JAN-98             
 1038 Blu-ray              Tora! Tora! Tora!              02-NOV-99             
 1039 Blu-ray              A Man for All Seasons          28-JUN-94             
 1040 Blu-ray              Hook                           11-DEC-91             
 1041 Blu-ray              Around the World in 80 Days    04-DEC-92             
 1042 Blu-ray              Camelot                        15-MAY-98             
 1043 DVD: Wide Screen     The Hunt for Red October       02-MAR-90             
 1044 DVD: Wide Screen     Star Wars I                    04-MAY-99             
 1045 DVD: Full Screen     Star Wars II                   16-MAY-02             
 1046 DVD: Wide Screen     Star Wars II                   16-MAY-02             
 1047 DVD: Wide Screen     Star Wars III                  19-MAY-05             
 1048 DVD: Wide Screen     The Chronicles of Narnia       16-MAY-02             
 1049 XBOX                 RoboCop                        24-JUL-03             
 1050 XBOX                 Pirates of the Caribbean       30-JUN-03             
 1051 XBOX                 The Chronicles of Narnia       30-JUN-03             
 1052 Nintendo Gamecube    MarioKart                      17-NOV-03             
 1053 Playstation2         Splinter Cell                  08-APR-03             
 1054 Playstation2         Need for Speed                 15-NOV-04             
 1055 XBOX                 The DaVinci Code               19-MAY-06             
 1056 XBOX                 Cars                           28-APR-06             
 1057 Blu-ray              Beau Geste                     01-MAR-92             
 1058 Blu-ray              I Remember Mama                05-JAN-98             
 1059 Blu-ray              Tora! Tora! Tora!              02-NOV-99             
 1060 Blu-ray              A Man for All Seasons          28-JUN-94             
 1061 Blu-ray              Hook                           11-DEC-91             
 1062 Blu-ray              Around the World in 80 Days    04-DEC-92             
 1063 Blu-ray              Camelot                        15-MAY-98             
 1064 DVD: Wide Screen     The Hunt for Red October       02-MAR-90             
 1065 DVD: Wide Screen     Star Wars I                    04-MAY-99             
 1066 DVD: Full Screen     Star Wars II                   16-MAY-02             
 1067 DVD: Wide Screen     Star Wars II                   16-MAY-02             
 1068 DVD: Wide Screen     Star Wars III                  19-MAY-05             
 1069 DVD: Wide Screen     The Chronicles of Narnia       16-MAY-02             
 1070 XBOX                 RoboCop                        24-JUL-03             
 1071 XBOX                 Pirates of the Caribbean       30-JUN-03             
 1072 XBOX                 The Chronicles of Narnia       30-JUN-03             
 1073 Nintendo Gamecube    MarioKart                      17-NOV-03             
 1074 Playstation2         Splinter Cell                  08-APR-03             
 1075 Playstation2         Need for Speed                 15-NOV-04             
 1076 XBOX                 The DaVinci Code               19-MAY-06             
 1077 XBOX                 Cars                           28-APR-06             
 1078 Blu-ray              Beau Geste                     01-MAR-92             
 1079 Blu-ray              I Remember Mama                05-JAN-98             
 1080 Blu-ray              Tora! Tora! Tora!              02-NOV-99             
 1081 Blu-ray              A Man for All Seasons          28-JUN-94             
 1082 Blu-ray              Hook                           11-DEC-91             
 1083 Blu-ray              Around the World in 80 Days    04-DEC-92             
 1084 Blu-ray              Camelot                        15-MAY-98             
 1085 DVD: Wide Screen     The Hunt for Red October       02-MAR-90             
 1086 DVD: Wide Screen     Star Wars I                    04-MAY-99             
 1087 DVD: Full Screen     Star Wars II                   16-MAY-02             
 1088 DVD: Wide Screen     Star Wars II                   16-MAY-02             
 1089 DVD: Wide Screen     Star Wars III                  19-MAY-05             
 1090 DVD: Wide Screen     The Chronicles of Narnia       16-MAY-02             
 1091 XBOX                 RoboCop                        24-JUL-03             
 1092 XBOX                 Pirates of the Caribbean       30-JUN-03             
 1093 XBOX                 The Chronicles of Narnia       30-JUN-03             
 1094 Nintendo Gamecube    MarioKart                      17-NOV-03             

                                                          Item                  
 Item                                                     Release               
 ID # Item Description     Item Title                     Date                  
----- -------------------- ------------------------------ -----------           
 1095 Playstation2         Splinter Cell                  08-APR-03             
 1096 Playstation2         Need for Speed                 15-NOV-04             
 1097 XBOX                 The DaVinci Code               19-MAY-06             
 1098 XBOX                 Cars                           28-APR-06             
 1099 Blu-ray              Beau Geste                     01-MAR-92             
 1100 Blu-ray              I Remember Mama                05-JAN-98             
 1101 Blu-ray              Tora! Tora! Tora!              02-NOV-99             
 1102 Blu-ray              A Man for All Seasons          28-JUN-94             
 1103 Blu-ray              Hook                           11-DEC-91             
 1104 Blu-ray              Around the World in 80 Days    04-DEC-92             
 1105 Blu-ray              Camelot                        15-MAY-98             
 1106 DVD: Wide Screen     The Hunt for Red October       02-MAR-90             
 1107 DVD: Wide Screen     Star Wars I                    04-MAY-99             
 1108 DVD: Full Screen     Star Wars II                   16-MAY-02             
 1109 DVD: Wide Screen     Star Wars II                   16-MAY-02             
 1110 DVD: Wide Screen     Star Wars III                  19-MAY-05             
 1111 DVD: Wide Screen     The Chronicles of Narnia       16-MAY-02             
 1112 XBOX                 RoboCop                        24-JUL-03             
 1113 XBOX                 Pirates of the Caribbean       30-JUN-03             
 1114 XBOX                 The Chronicles of Narnia       30-JUN-03             
 1115 Nintendo Gamecube    MarioKart                      17-NOV-03             
 1116 Playstation2         Splinter Cell                  08-APR-03             
 1117 Playstation2         Need for Speed                 15-NOV-04             
 1118 XBOX                 The DaVinci Code               19-MAY-06             
 1119 XBOX                 Cars                           28-APR-06             
 1120 Blu-ray              Beau Geste                     01-MAR-92             
 1121 Blu-ray              I Remember Mama                05-JAN-98             
 1122 Blu-ray              Tora! Tora! Tora!              02-NOV-99             
 1123 Blu-ray              A Man for All Seasons          28-JUN-94             
 1124 Blu-ray              Hook                           11-DEC-91             
 1125 Blu-ray              Around the World in 80 Days    04-DEC-92             
 1126 Blu-ray              Camelot                        15-MAY-98             
 1127 DVD: Wide Screen     The Hunt for Red October       02-MAR-90             
 1128 DVD: Wide Screen     Star Wars I                    04-MAY-99             
 1129 DVD: Full Screen     Star Wars II                   16-MAY-02             
 1130 DVD: Wide Screen     Star Wars II                   16-MAY-02             
 1131 DVD: Wide Screen     Star Wars III                  19-MAY-05             
 1132 DVD: Wide Screen     The Chronicles of Narnia       16-MAY-02             
 1133 XBOX                 RoboCop                        24-JUL-03             
 1134 XBOX                 Pirates of the Caribbean       30-JUN-03             
 1135 XBOX                 The Chronicles of Narnia       30-JUN-03             
 1136 Nintendo Gamecube    MarioKart                      17-NOV-03             
 1137 Playstation2         Splinter Cell                  08-APR-03             
 1138 Playstation2         Need for Speed                 15-NOV-04             
 1139 XBOX                 The DaVinci Code               19-MAY-06             
 1140 XBOX                 Cars                           28-APR-06             
 1141 Blu-ray              Beau Geste                     01-MAR-92             
 1142 Blu-ray              I Remember Mama                05-JAN-98             
 1143 Blu-ray              Tora! Tora! Tora!              02-NOV-99             
 1144 Blu-ray              A Man for All Seasons          28-JUN-94             
 1145 Blu-ray              Hook                           11-DEC-91             
 1146 Blu-ray              Around the World in 80 Days    04-DEC-92             
 1147 Blu-ray              Camelot                        15-MAY-98             

147 rows selected.

SQL> 
SQL> -- Commit changes.
SQL> COMMIT;

Commit complete.

SQL> 
SQL> -- STEP 5
SQL> @@create_insert_contacts_lab.sql
SQL> -- ------------------------------------------------------------------
SQL> --  Program Name:	 create_insert_contacts.sql
SQL> --  Lab Assignment: N/A
SQL> --  Program Author: Michael McLaughlin
SQL> --  Creation Date:  30-Jan-2018
SQL> -- ------------------------------------------------------------------
SQL> --  Change Log:
SQL> -- ------------------------------------------------------------------
SQL> --  Change Date	Change Reason
SQL> -- -------------  ---------------------------------------------------
SQL> --
SQL> -- ------------------------------------------------------------------
SQL> --  This automates creating accounts.
SQL> -- ------------------------------------------------------------------
SQL> -- ------------------------------------------------------------------
SQL> --  Automates inserts of member accounts for individual accounts.
SQL> -- ------------------------------------------------------------------
SQL> 
SQL> -- Transaction Management Example.
SQL> CREATE OR REPLACE PROCEDURE contact_insert_lab
  2  ( pv_member_type	      VARCHAR2
  3  , pv_account_number      VARCHAR2
  4  , pv_credit_card_number  VARCHAR2
  5  , pv_credit_card_type    VARCHAR2
  6  , pv_first_name	      VARCHAR2
  7  , pv_middle_name	      VARCHAR2 := ''
  8  , pv_last_name	      VARCHAR2
  9  , pv_contact_type	      VARCHAR2
 10  , pv_address_type	      VARCHAR2
 11  , pv_city		      VARCHAR2
 12  , pv_state_province      VARCHAR2
 13  , pv_postal_code	      VARCHAR2
 14  , pv_street_address      VARCHAR2
 15  , pv_telephone_type      VARCHAR2
 16  , pv_country_code	      VARCHAR2
 17  , pv_area_code	      VARCHAR2
 18  , pv_telephone_number    VARCHAR2
 19  , pv_created_by	      NUMBER   := 1001
 20  , pv_creation_date       DATE     := SYSDATE
 21  , pv_last_updated_by     NUMBER   := 1001
 22  , pv_last_update_date    DATE     := SYSDATE) IS
 23  
 24  BEGIN
 25  
 26    /* Create a SAVEPOINT as a starting point. */
 27    SAVEPOINT starting_point;
 28  
 29    /* Insert into the member table. */
 30    INSERT INTO member_lab
 31    ( member_lab_id
 32    , member_type
 33    , account_number
 34    , credit_card_number
 35    , credit_card_type
 36    , created_by
 37    , creation_date
 38    , last_updated_by
 39    , last_update_date )
 40    VALUES
 41    ( member_lab_s1.NEXTVAL
 42    ,(SELECT   common_lookup_lab_id
 43  	 FROM	  common_lookup_lab
 44  	 WHERE	  common_lookup_context = 'MEMBER_LAB'
 45  	 AND	  common_lookup_type = pv_member_type)
 46    , pv_account_number
 47    , pv_credit_card_number
 48    ,(SELECT   common_lookup_lab_id
 49  	 FROM	  common_lookup_lab
 50  	 WHERE	  common_lookup_context = 'MEMBER_LAB'
 51  	 AND	  common_lookup_type = pv_credit_card_type)
 52    , pv_created_by
 53    , pv_creation_date
 54    , pv_last_updated_by
 55    , pv_last_update_date );
 56  
 57    /* Insert into the contact table. */
 58    INSERT INTO contact_lab
 59    VALUES
 60    ( contact_lab_s1.NEXTVAL
 61    , member_lab_s1.CURRVAL
 62    ,(SELECT   common_lookup_lab_id
 63  	 FROM	  common_lookup_lab
 64  	 WHERE	  common_lookup_context = 'CONTACT_LAB'
 65  	 AND	  common_lookup_type = pv_contact_type)
 66    , pv_first_name
 67    , pv_middle_name
 68    , pv_last_name
 69    , pv_created_by
 70    , pv_creation_date
 71    , pv_last_updated_by
 72    , pv_last_update_date );
 73  
 74    /* Insert into the address table. */
 75    INSERT INTO address_lab
 76    VALUES
 77    ( address_lab_s1.NEXTVAL
 78    , contact_lab_s1.CURRVAL
 79    ,(SELECT   common_lookup_lab_id
 80  	 FROM	  common_lookup_lab
 81  	 WHERE	  common_lookup_context = 'MULTIPLE'
 82  	 AND	  common_lookup_type = pv_address_type)
 83    , pv_city
 84    , pv_state_province
 85    , pv_postal_code
 86    , pv_created_by
 87    , pv_creation_date
 88    , pv_last_updated_by
 89    , pv_last_update_date );
 90  
 91    /* Insert into the street_address table. */
 92    INSERT INTO street_address_lab
 93    VALUES
 94    ( street_address_lab_s1.NEXTVAL
 95    , address_lab_s1.CURRVAL
 96    , pv_street_address
 97    , pv_created_by
 98    , pv_creation_date
 99    , pv_last_updated_by
100    , pv_last_update_date );
101  
102    /* Insert into the telephone table. */
103    INSERT INTO telephone_lab
104    VALUES
105    ( telephone_lab_s1.NEXTVAL			       -- TELEPHONE_ID
106    , contact_lab_s1.CURRVAL 			       -- CONTACT_ID
107    , address_lab_s1.CURRVAL 			       -- ADDRESS_ID
108    ,(SELECT   common_lookup_lab_id			       -- ADDRESS_TYPE
109  	 FROM	  common_lookup_lab
110  	 WHERE	  common_lookup_context = 'MULTIPLE'
111  	 AND	  common_lookup_type = pv_telephone_type)
112    , pv_country_code				   -- COUNTRY_CODE
113    , pv_area_code					   -- AREA_CODE
114    , pv_telephone_number				   -- TELEPHONE_NUMBER
115    , pv_created_by					   -- CREATED_BY
116    , pv_creation_date				   -- CREATION_DATE
117    , pv_last_updated_by				   -- LAST_UPDATED_BY
118    , pv_last_update_date);				   -- LAST_UPDATE_DATE
119  
120    /* Commit the series of inserts. */
121    COMMIT;
122  EXCEPTION
123    WHEN OTHERS THEN
124  	 ROLLBACK TO starting_point;
125  	 RETURN;
126  END contact_insert;
127  
128  
129  -- STEP 6
130  --@@individual_accounts_lab.sql
131  
132  -- STEP 7
133  --@@update_members_lab.sql
134  
135  -- STEP 8
136  --@@rental_inserts_lab.sql
137  
138  -- STEP 9
139  --@@create_view_lab.sql
140  
141  SPOOL OFF;
142  DESC *;
143  DESC *;
144  DESC *;
145  
146  
147  
148  !reset
149  @apply_oracle_lab4.sql
149  -- ----------------------------------------------------------------------
150  -- Instructions:
151  -- ----------------------------------------------------------------------
152  -- The two scripts contain spooling commands, which is why there
153  -- isn't a spooling command in this script. When you run this file
154  -- you first connect to the Oracle database with this syntax:
155  --
156  --   sqlplus student/student@xe
157  --
158  -- Then, you call this script with the following syntax:
159  --
160  --   sql> @apply_oracle_lab4.sql
161  --
162  -- ----------------------------------------------------------------------
163  
164  -- Run the prior lab script.
165  @/home/student/Data/cit225/oracle/lab3/apply_oracle_lab3.sql
165  ----------------------------------------------------------------------
166  -- Author: Nathan Tagg ------------------------------------------------------------------
167  
168  -- Run the prior lab script.
169  
170  @/home/student/Data/cit225/oracle/lab2/appy_oracle_lab2.sql
SP2-0310: unable to open file "/home/student/Data/cit225/oracle/lab2/appy_oracle_lab2.sql"
170  
171  -- Add your lab here:t oracle]$ cd lib2
172  [student@localhost lib2]$ ls
173  address.sql	     item.sql	      street_address.sql
174  common_lookup.sql	     member.sql       system_user.sql
175  contact.sql	     rental_item.sql  telephone.sql
176  create_video_store.sql  rental.sql
177  
178  
179  SPOOL apply_oracle_lab3.txt
180  
181  -- --------------------------------------------------------
182  --  Step #1
183  --  -------
184  --  Disable foreign key constraints dependencies.
185  -- --------------------------------------------------------
186  ALTER TABLE system_user_lab
187    DISABLE CONSTRAINT fk_system_user_lab_3;
188  
189  ALTER TABLE system_user_lab
190    DISABLE CONSTRAINT fk_system_user_lab_4;
191  
192  COL table_name	  FORMAT A14  HEADING "Table Name"
193  COL constraint_name  FORMAT A24  HEADING "Constraint Name"
194  COL constraint_type  FORMAT A12  HEADING "Constraint Type"
195  COL status 	  FORMAT A8   HEADING "Status"
196  SELECT   table_name
197  ,	      constraint_name
198  ,	      CASE
199  		WHEN constraint_type = 'R'	  THEN 'FOREIGN KEY'
200  		WHEN constraint_type = 'P'	  THEN 'PRIMARY KEY'
201  		WHEN constraint_type = 'U'	  THEN 'UNIQUE'
202  		WHEN constraint_type = 'C' AND	REGEXP_LIKE(constraint_name,'^.*nn.*$','i')
203  		THEN 'NOT NULL'
204  		ELSE 'CHECK'
205  	      END constraint_type
206  ,	      status
207  FROM     user_constraints
208  WHERE    table_name = 'SYSTEM_USER_LAB'
209  ORDER BY CASE
210  		WHEN constraint_type = 'PRIMARY KEY' THEN 1
211  		WHEN constraint_type = 'NOT NULL'    THEN 2
212  		WHEN constraint_type = 'CHECK'	     THEN 3
213  		WHEN constraint_type = 'UNIQUE'      THEN 4
214  		WHEN constraint_type = 'FOREIGN KEY' THEN 5
215  	      END
216  ,	      constraint_name;
217  
218  -- --------------------------------------------------------
219  --  Step #2
220  --  -------
221  --  Alter the table to remove not null constraints.
222  -- --------------------------------------------------------
223  ALTER TABLE system_user_lab
224    MODIFY (system_user_group_id  NUMBER  NULL);
225  
226  ALTER TABLE system_user_lab
227    MODIFY (system_user_type  NUMBER  NULL);
228  
229  COL table_name	  FORMAT A14  HEADING "Table Name"
230  COL constraint_name  FORMAT A24  HEADING "Constraint Name"
231  COL constraint_type  FORMAT A12  HEADING "Constraint Type"
232  COL status 	  FORMAT A8   HEADING "Status"
233  SELECT   table_name
234  ,	      constraint_name
235  ,	      CASE
236  		WHEN constraint_type = 'R'	  THEN 'FOREIGN KEY'
237  		WHEN constraint_type = 'P'	  THEN 'PRIMARY KEY'
238  		WHEN constraint_type = 'U'	  THEN 'UNIQUE'
239  		WHEN constraint_type = 'C' AND	REGEXP_LIKE(constraint_name,'^.*nn.*$','i')
240  		THEN 'NOT NULL'
241  		ELSE 'CHECK'
242  	      END constraint_type
243  ,	      status
244  FROM     user_constraints
245  WHERE    table_name = 'SYSTEM_USER_LAB'
246  ORDER BY CASE
247  		WHEN constraint_type = 'PRIMARY KEY' THEN 1
248  		WHEN constraint_type = 'NOT NULL'    THEN 2
249  		WHEN constraint_type = 'CHECK'	     THEN 3
250  		WHEN constraint_type = 'UNIQUE'      THEN 4
251  		WHEN constraint_type = 'FOREIGN KEY' THEN 5
252  	      END
253  ,	      constraint_name;
254  
255  -- --------------------------------------------------------
256  --  Step #3
257  --  -------
258  --  Insert partial data set for preseeded system_user.
259  -- --------------------------------------------------------
260  INSERT INTO system_user_lab
261  ( system_user_lab_id
262  , system_user_name
263  , system_user_group_id
264  , system_user_type
265  , created_by
266  , creation_date
267  , last_updated_by
268  , last_update_date)
269  VALUES
270  ( 1	    -- system_user_lab_id
271  ,'SYSADMIN'    -- system_user_name
272  , null	    -- system_user_group_id
273  , null	    -- system_user_type
274  , 1	    -- created_by
275  , SYSDATE	    -- creation_date
276  , 1	    -- last_updated_by
277  , SYSDATE	    -- last_update_date
278  );
279  
280  -- --------------------------------------------------------
281  --  Step #4
282  --  -------
283  --  Disable foreign key constraints dependencies.
284  -- --------------------------------------------------------
285  ALTER TABLE common_lookup_lab
286    DISABLE CONSTRAINT fk_clookup_lab_1;
287  
288  ALTER TABLE common_lookup_lab
289    DISABLE CONSTRAINT fk_clookup_lab_2;
290  
291  COL table_name	  FORMAT A14  HEADING "Table Name"
292  COL constraint_name  FORMAT A24  HEADING "Constraint Name"
293  COL constraint_type  FORMAT A12  HEADING "Constraint Type"
294  COL status 	  FORMAT A8   HEADING "Status"
295  SELECT   table_name
296  ,	      constraint_name
297  ,	      CASE
298  		WHEN constraint_type = 'R'	  THEN 'FOREIGN KEY'
299  		WHEN constraint_type = 'P'	  THEN 'PRIMARY KEY'
300  		WHEN constraint_type = 'U'	  THEN 'UNIQUE'
301  		WHEN constraint_type = 'C' AND	REGEXP_LIKE(constraint_name,'^.*nn.*$','i')
302  		THEN 'NOT NULL'
303  		ELSE 'CHECK'
304  	      END constraint_type
305  ,	      status
306  FROM     user_constraints
307  WHERE    table_name = 'COMMON_LOOKUP_LAB'
308  ORDER BY CASE
309  		WHEN constraint_type = 'PRIMARY KEY' THEN 1
310  		WHEN constraint_type = 'NOT NULL'    THEN 2
311  		WHEN constraint_type = 'CHECK'	     THEN 3
312  		WHEN constraint_type = 'UNIQUE'      THEN 4
313  		WHEN constraint_type = 'FOREIGN KEY' THEN 5
314  	      END
315  ,	      constraint_name;
316  
317  -- --------------------------------------------------------
318  --  Step #5
319  --  -------
320  --  Insert data set for preseeded common_lookup table.
321  -- --------------------------------------------------------
322  INSERT INTO common_lookup_lab
323  ( common_lookup_lab_id
324  , common_lookup_context
325  , common_lookup_type
326  , common_lookup_meaning
327  , created_by
328  , creation_date
329  , last_updated_by
330  , last_update_date )
331   VALUES
332  ( 1			   -- common_lookup_lab_id
333  ,'SYSTEM_USER_LAB' 	   -- common_lookup_context
334  ,'SYSTEM_ADMIN'		   -- common_lookup_type
335  ,'System Administrator'	   -- common_lookup_meaning
336  , 1			   -- created_by
337  , SYSDATE			   -- creation_date
338  , 1			   -- last_updated_by
339  , SYSDATE			   -- last_update_date
340  );
341  
342  INSERT INTO common_lookup_lab
343  ( common_lookup_lab_id
344  , common_lookup_context
345  , common_lookup_type
346  , common_lookup_meaning
347  , created_by
348  , creation_date
349  , last_updated_by
350  , last_update_date )
351  VALUES
352  ( 2			   -- common_lookup_lab_id
353  ,'SYSTEM_USER_LAB' 	   -- common_lookup_context
354  ,'DBA'			   -- common_lookup_type
355  ,'Database Administrator'	   -- common_lookup_meaning
356  , 1			   -- created_by
357  , SYSDATE			   -- creation_date
358  , 1			   -- last_updated_by
359  , SYSDATE			   -- last_update_date
360  );
361  
362  INSERT INTO common_lookup_lab
363  ( common_lookup_lab_id
364  , common_lookup_context
365  , common_lookup_type
366  , common_lookup_meaning
367  , created_by
368  , creation_date
369  , last_updated_by
370  , last_update_date )
371   VALUES
372  ( 3			   -- common_lookup_lab_id
373  ,'SYSTEM_USER_LAB' 	   -- common_lookup_context
374  ,'SYSTEM_GROUP'		   -- common_lookup_type
375  ,'System Group'		   -- common_lookup_meaning
376  , 1			   -- created_by
377  , SYSDATE			   -- creation_date
378  , 1			   -- last_updated_by
379  , SYSDATE			   -- last_update_date
380  );
381  
382  INSERT INTO common_lookup_lab
383  ( common_lookup_lab_id
384  , common_lookup_context
385  , common_lookup_type
386  , common_lookup_meaning
387  , created_by
388  , creation_date
389  , last_updated_by
390  , last_update_date )
391   VALUES
392  ( 4			   -- common_lookup_lab_id
393  ,'SYSTEM_USER_LAB' 	   -- common_lookup_context
394  ,'COST_CENTER'		   -- common_lookup_type
395  ,'Cost Center'		   -- common_lookup_meaning
396  , 1			   -- created_by
397  , SYSDATE			   -- creation_date
398  , 1			   -- last_updated_by
399  , SYSDATE			   -- last_update_date
400  );
401  
402  INSERT INTO common_lookup_lab
403  ( common_lookup_lab_id
404  , common_lookup_context
405  , common_lookup_type
406  , common_lookup_meaning
407  , created_by
408  , creation_date
409  , last_updated_by
410  , last_update_date )
411   VALUES
412  ( 5			   -- common_lookup_lab_id
413  ,'SYSTEM_USER_LAB' 	   -- common_lookup_context
414  ,'INDIVIDUAL'		   -- common_lookup_type
415  ,'Individual'		   -- common_lookup_meaning
416  , 1			   -- created_by
417  , SYSDATE			   -- creation_date
418  , 1			   -- last_updated_by
419  , SYSDATE			   -- last_update_date
420  );
421  
422  INSERT INTO common_lookup_lab
423  ( common_lookup_lab_id
424  , common_lookup_context
425  , common_lookup_type
426  , common_lookup_meaning
427  , created_by
428  , creation_date
429  , last_updated_by
430  , last_update_date )
431  VALUES
432  ( common_lookup_lab_s1.nextval-- common_lookup_lab_id (1001)
433  ,'CONTACT_LAB'		   -- common_lookup_context
434  ,'EMPLOYEE'		   -- common_lookup_type
435  ,'Employee'		   -- common_lookup_meaning
436  , 1			   -- created_by
437  , SYSDATE			   -- creation_date
438  , 1			   -- last_updated_by
439  , SYSDATE			   -- last_update_date
440  );
441  
442  INSERT INTO common_lookup_lab
443  ( common_lookup_lab_id
444  , common_lookup_context
445  , common_lookup_type
446  , common_lookup_meaning
447  , created_by
448  , creation_date
449  , last_updated_by
450  , last_update_date )
451  VALUES
452  ( common_lookup_lab_s1.nextval-- common_lookup_lab_id (1002)
453  ,'CONTACT_LAB'		   -- common_lookup_context
454  ,'CUSTOMER'		   -- common_lookup_type
455  ,'Customer'		   -- common_lookup_meaning
456  , 1			   -- created_by
457  , SYSDATE			   -- creation_date
458  , 1			   -- last_updated_by
459  , SYSDATE			   -- last_update_date
460  );
461  
462  INSERT INTO common_lookup_lab
463  ( common_lookup_lab_id
464  , common_lookup_context
465  , common_lookup_type
466  , common_lookup_meaning
467  , created_by
468  , creation_date
469  , last_updated_by
470  , last_update_date )
471  VALUES
472  ( common_lookup_lab_s1.nextval-- common_lookup_lab_id (1003)
473  ,'MEMBER_LAB'		   -- common_lookup_context
474  ,'INDIVIDUAL'		   -- common_lookup_type
475  ,'Individual Membership'	   -- common_lookup_meaning
476  , 1			   -- created_by
477  , SYSDATE			   -- creation_date
478  , 1			   -- last_updated_by
479  , SYSDATE			   -- last_update_date
480  );
481  
482  INSERT INTO common_lookup_lab
483  ( common_lookup_lab_id
484  , common_lookup_context
485  , common_lookup_type
486  , common_lookup_meaning
487  , created_by
488  , creation_date
489  , last_updated_by
490  , last_update_date )
491  VALUES
492  ( common_lookup_lab_s1.nextval-- common_lookup_lab_id (1004)
493  ,'MEMBER_LAB'		   -- common_lookup_context
494  ,'GROUP'			   -- common_lookup_type
495  ,'Group Membership'	   -- common_lookup_meaning
496  , 1			   -- created_by
497  , SYSDATE			   -- creation_date
498  , 1			   -- last_updated_by
499  , SYSDATE			   -- last_update_date
500  );
501  
502  INSERT INTO common_lookup_lab
503  ( common_lookup_lab_id
504  , common_lookup_context
505  , common_lookup_type
506  , common_lookup_meaning
507  , created_by
508  , creation_date
509  , last_updated_by
510  , last_update_date )
511  VALUES
512  ( common_lookup_lab_s1.nextval-- common_lookup_lab_id (1005)
513  ,'MEMBER_LAB'		   -- common_lookup_context
514  ,'DISCOVER_CARD'		   -- common_lookup_type
515  ,'Discover Card'		   -- common_lookup_meaning
516  , 1			   -- created_by
517  , SYSDATE			   -- creation_date
518  , 1			   -- last_updated_by
519  , SYSDATE			   -- last_update_date
520  );
521  
522  INSERT INTO common_lookup_lab
523  ( common_lookup_lab_id
524  , common_lookup_context
525  , common_lookup_type
526  , common_lookup_meaning
527  , created_by
528  , creation_date
529  , last_updated_by
530  , last_update_date )
531  VALUES
532  ( common_lookup_lab_s1.nextval-- common_lookup_lab_id (1006)
533  ,'MEMBER_LAB'		   -- common_lookup_context
534  ,'MASTER_CARD'		   -- common_lookup_type
535  ,'Master Card'		   -- common_lookup_meaning
536  , 1			   -- created_by
537  , SYSDATE			   -- creation_date
538  , 1			   -- last_updated_by
539  , SYSDATE			   -- last_update_date
540  );
541  
542  INSERT INTO common_lookup_lab
543  ( common_lookup_lab_id
544  , common_lookup_context
545  , common_lookup_type
546  , common_lookup_meaning
547  , created_by
548  , creation_date
549  , last_updated_by
550  , last_update_date )
551  VALUES
552  ( common_lookup_lab_s1.nextval-- common_lookup_lab_id (1007)
553  ,'MEMBER_LAB'		   -- common_lookup_context
554  ,'VISA_CARD'		   -- common_lookup_type
555  ,'Visa Card'		   -- common_lookup_meaning
556  , 1			   -- created_by
557  , SYSDATE			   -- creation_date
558  , 1			   -- last_updated_by
559  , SYSDATE			   -- last_update_date
560  );
561  
562  INSERT INTO common_lookup_lab
563  ( common_lookup_lab_id
564  , common_lookup_context
565  , common_lookup_type
566  , common_lookup_meaning
567  , created_by
568  , creation_date
569  , last_updated_by
570  , last_update_date )
571  VALUES
572  ( common_lookup_lab_s1.nextval-- common_lookup_lab_id (1008)
573  ,'MULTIPLE'		   -- common_lookup_context
574  ,'HOME'			   -- common_lookup_type
575  ,'Home'			   -- common_lookup_meaning
576  , 1			   -- created_by
577  , SYSDATE			   -- creation_date
578  , 1			   -- last_updated_by
579  , SYSDATE			   -- last_update_date
580  );
581  
582  INSERT INTO common_lookup_lab
583  ( common_lookup_lab_id
584  , common_lookup_context
585  , common_lookup_type
586  , common_lookup_meaning
587  , created_by
588  , creation_date
589  , last_updated_by
590  , last_update_date )
591  VALUES
592  ( common_lookup_lab_s1.nextval-- common_lookup_lab_id (1009)
593  ,'MULTIPLE'		   -- common_lookup_context
594  ,'WORK'			   -- common_lookup_type
595  ,'Work'			   -- common_lookup_meaning
596  , 1			   -- created_by
597  , SYSDATE			   -- creation_date
598  , 1			   -- last_updated_by
599  , SYSDATE			   -- last_update_date
600  );
601  
602  INSERT INTO common_lookup_lab
603  ( common_lookup_lab_id
604  , common_lookup_context
605  , common_lookup_type
606  , common_lookup_meaning
607  , created_by
608  , creation_date
609  , last_updated_by
610  , last_update_date )
611  VALUES
612  ( common_lookup_lab_s1.nextval-- common_lookup_lab_id (1010)
613  ,'ITEM_LAB'		   -- common_lookup_context
614  ,'DVD_FULL_SCREEN' 	   -- common_lookup_type
615  ,'DVD: Full Screen'	   -- common_lookup_meaning
616  , 1			   -- created_by
617  , SYSDATE			   -- creation_date
618  , 1			   -- last_updated_by
619  , SYSDATE			   -- last_update_date
620  );
621  
622  INSERT INTO common_lookup_lab
623  ( common_lookup_lab_id
624  , common_lookup_context
625  , common_lookup_type
626  , common_lookup_meaning
627  , created_by
628  , creation_date
629  , last_updated_by
630  , last_update_date )
631  VALUES
632  ( common_lookup_lab_s1.nextval-- common_lookup_lab_id (1011)
633  ,'ITEM_LAB'		   -- common_lookup_context
634  ,'DVD_WIDE_SCREEN' 	   -- common_lookup_type
635  ,'DVD: Wide Screen'	   -- common_lookup_meaning
636  , 1			   -- created_by
637  , SYSDATE			   -- creation_date
638  , 1			   -- last_updated_by
639  , SYSDATE			   -- last_update_date
640  );
641  
642  INSERT INTO common_lookup_lab
643  ( common_lookup_lab_id
644  , common_lookup_context
645  , common_lookup_type
646  , common_lookup_meaning
647  , created_by
648  , creation_date
649  , last_updated_by
650  , last_update_date )
651  VALUES
652  ( common_lookup_lab_s1.nextval-- common_lookup_lab_id (1012)
653  ,'ITEM_LAB'		   -- common_lookup_context
654  ,'NINTENDO_GAMECUBE'	   -- common_lookup_type
655  ,'Nintendo Gamecube'	   -- common_lookup_meaning
656  , 1			   -- created_by
657  , SYSDATE			   -- creation_date
658  , 1			   -- last_updated_by
659  , SYSDATE			   -- last_update_date
660  );
661  
662  INSERT INTO common_lookup_lab
663  ( common_lookup_lab_id
664  , common_lookup_context
665  , common_lookup_type
666  , common_lookup_meaning
667  , created_by
668  , creation_date
669  , last_updated_by
670  , last_update_date )
671  VALUES
672  ( common_lookup_lab_s1.nextval-- common_lookup_lab_id (1013)
673  ,'ITEM_LAB'		   -- common_lookup_context
674  ,'PLAYSTATION2'		   -- common_lookup_type
675  ,'Playstation2'		   -- common_lookup_meaning
676  , 1			   -- created_by
677  , SYSDATE			   -- creation_date
678  , 1			   -- last_updated_by
679  , SYSDATE			   -- last_update_date
680  );
681  
682  INSERT INTO common_lookup_lab
683  ( common_lookup_lab_id
684  , common_lookup_context
685  , common_lookup_type
686  , common_lookup_meaning
687  , created_by
688  , creation_date
689  , last_updated_by
690  , last_update_date )
691  VALUES
692  ( common_lookup_lab_s1.nextval-- common_lookup_lab_id (1014)
693  ,'ITEM_LAB'		   -- common_lookup_context
694  ,'XBOX'			   -- common_lookup_type
695  ,'XBOX'			   -- common_lookup_meaning
696  , 1			   -- created_by
697  , SYSDATE			   -- creation_date
698  , 1			   -- last_updated_by
699  , SYSDATE			   -- last_update_date
700  );
701  
702  INSERT INTO common_lookup_lab
703  ( common_lookup_lab_id
704  , common_lookup_context
705  , common_lookup_type
706  , common_lookup_meaning
707  , created_by
708  , creation_date
709  , last_updated_by
710  , last_update_date )
711  VALUES
712  ( common_lookup_lab_s1.nextval-- common_lookup_lab_id (1011)
713  ,'ITEM_LAB'		   -- common_lookup_context
714  ,'BLU-RAY' 		   -- common_lookup_type
715  ,'Blu-ray' 		   -- common_lookup_meaning
716  , 1			   -- created_by
717  , SYSDATE			   -- creation_date
718  , 1			   -- last_updated_by
719  , SYSDATE			   -- last_update_date
720  );
721  
722  -- --------------------------------------------------------
723  --  Step #6
724  --  -------
725  --  Display the preseeded values in the common_lookup table.
726  -- --------------------------------------------------------
727  COL common_lookup_lab_id	FORMAT	9999
728  COL common_lookup_context	FORMAT A22
729  COL common_lookup_type	FORMAT A16
730  SELECT   common_lookup_lab_id
731  ,	      common_lookup_context
732  ,	      common_lookup_type
733  FROM     common_lookup_lab;
734  
735  -- --------------------------------------------------------
736  --  Step #7
737  --  -------
738  --  Write two queries using the COMMON_LOOKUP table:
739  --  --------------------------------------------------
740  --   One finds the primary key values for the
741  --   SYSTEM_USER_GROUP_ID in the COMMON_LOOKUP table.
742  --   Another finds the primary key values for the
743  --   SYSTEM_USER_TYPE in the COMMON_LOOKUP table.
744  --  --------------------------------------------------
745  --  Both queries use the COMMON_LOOKUP_CONTEXT and
746  --  COMMON_LOOKUP_TYPE columns.
747  -- --------------------------------------------------------
748  SELECT   common_lookup_lab_id
749  FROM     common_lookup_lab
750  WHERE    common_lookup_context = 'SYSTEM_USER_LAB'
751  AND      common_lookup_type = 'SYSTEM_GROUP';
752  
753  SELECT   common_lookup_lab_id
754  FROM     common_lookup_lab
755  WHERE    common_lookup_context = 'SYSTEM_USER_LAB'
756  AND      common_lookup_type = 'SYSTEM_ADMIN';
757  
758  -- --------------------------------------------------------
759  --  Step #8
760  --  -------
761  --  Update the SYSTEM_USER_GROUP_ID and SYSTEM_USER_TYPE
762  --  columns in the SYSTEM_USER table.
763  -- --------------------------------------------------------
764  UPDATE system_user_lab
765  SET    system_user_group_id =
766  	      (SELECT	common_lookup_lab_id
767  	       FROM	common_lookup_lab
768  	       WHERE	common_lookup_context = 'SYSTEM_USER_LAB'
769  	       AND	common_lookup_type = 'SYSTEM_ADMIN')
770  WHERE  system_user_lab_id = 1;
771  
772  -- Display results.
773  SET NULL '<Null>'
774  COL system_user_lab_id    FORMAT 999999  HEADING "System|User|ID #"
775  COL system_user_name      FORMAT A10     HEADING "System|User|Name"
776  COL system_user_group_id  FORMAT 999999  HEADING "System|User|Group|ID #"
777  COL system_user_type      FORMAT 999999  HEADING "System|User|Type"
778  SELECT   system_user_lab_id
779  ,	      system_user_name
780  ,	      system_user_group_id
781  ,	      system_user_type
782  FROM     system_user_lab
783  WHERE    system_user_lab_id = 1;
784  
785  UPDATE system_user_lab
786  SET    system_user_type =
787  	      (SELECT	common_lookup_lab_id
788  	       FROM	common_lookup_lab
789  	       WHERE	common_lookup_context = 'SYSTEM_USER_LAB'
790  	       AND	common_lookup_type = 'SYSTEM_GROUP')
791  WHERE  system_user_lab_id = 1;
792  
793  -- Display results.
794  SET NULL '<Null>'
795  COL system_user_lab_id    FORMAT 999999  HEADING "System|User|ID #"
796  COL system_user_name      FORMAT A10     HEADING "System|User|Name"
797  COL system_user_group_id  FORMAT 999999  HEADING "System|User|Group|ID #"
798  COL system_user_type      FORMAT 999999  HEADING "System|User|Type"
799  SELECT   system_user_lab_id
800  ,	      system_user_name
801  ,	      system_user_group_id
802  ,	      system_user_type
803  FROM     system_user_lab
804  WHERE    system_user_lab_id = 1;
805  
806  -- --------------------------------------------------------
807  --  Step #9
808  --  --------
809  --  Enable foreign key constraints dependencies.
810  -- --------------------------------------------------------
811  -- Enable fk_system_user_3 constraint.
812  ALTER TABLE system_user_lab
813    ENABLE CONSTRAINT fk_system_user_lab_3;
814  
815  -- Enable fk_system_user_4 constraint.
816  ALTER TABLE system_user_lab
817    ENABLE CONSTRAINT fk_system_user_lab_4;
818  
819  -- Display system_user table constraints.
820  COL table_name	  FORMAT A14  HEADING "Table Name"
821  COL constraint_name  FORMAT A24  HEADING "Constraint Name"
822  COL constraint_type  FORMAT A12  HEADING "Constraint Type"
823  COL status 	  FORMAT A8   HEADING "Status"
824  SELECT   table_name
825  ,	      constraint_name
826  ,	      CASE
827  		WHEN constraint_type = 'R'	  THEN 'FOREIGN KEY'
828  		WHEN constraint_type = 'P'	  THEN 'PRIMARY KEY'
829  		WHEN constraint_type = 'U'	  THEN 'UNIQUE'
830  		WHEN constraint_type = 'C' AND	REGEXP_LIKE(constraint_name,'^.*nn.*$','i')
831  		THEN 'NOT NULL'
832  		ELSE 'CHECK'
833  	      END constraint_type
834  ,	      status
835  FROM     user_constraints
836  WHERE    table_name = 'SYSTEM_USER_LAB'
837  ORDER BY CASE
838  		WHEN constraint_type = 'PRIMARY KEY' THEN 1
839  		WHEN constraint_type = 'NOT NULL'    THEN 2
840  		WHEN constraint_type = 'CHECK'	     THEN 3
841  		WHEN constraint_type = 'UNIQUE'      THEN 4
842  		WHEN constraint_type = 'FOREIGN KEY' THEN 5
843  	      END
844  ,	      constraint_name;
845  
846  -- Enable fk_clookup_lab_1 constraint.
847  ALTER TABLE common_lookup_lab
848    ENABLE CONSTRAINT fk_clookup_lab_1;
849  
850  -- Enable fk_clookup_lab_2 constraint.
851  ALTER TABLE common_lookup_lab
852    ENABLE CONSTRAINT fk_clookup_lab_2;
853  
854  -- Display system_user table constraints.
855  COL table_name	  FORMAT A14  HEADING "Table Name"
856  COL constraint_name  FORMAT A24  HEADING "Constraint Name"
857  COL constraint_type  FORMAT A12  HEADING "Constraint Type"
858  COL status 	  FORMAT A8   HEADING "Status"
859  SELECT   table_name
860  ,	      constraint_name
861  ,	      CASE
862  		WHEN constraint_type = 'R'	  THEN 'FOREIGN KEY'
863  		WHEN constraint_type = 'P'	  THEN 'PRIMARY KEY'
864  		WHEN constraint_type = 'U'	  THEN 'UNIQUE'
865  		WHEN constraint_type = 'C' AND	REGEXP_LIKE(constraint_name,'^.*nn.*$','i')
866  		THEN 'NOT NULL'
867  		ELSE 'CHECK'
868  	      END constraint_type
869  ,	      status
870  FROM     user_constraints
871  WHERE    table_name = 'COMMON_LOOKUP_LAB'
872  ORDER BY CASE
873  		WHEN constraint_type = 'PRIMARY KEY' THEN 1
874  		WHEN constraint_type = 'NOT NULL'    THEN 2
875  		WHEN constraint_type = 'CHECK'	     THEN 3
876  		WHEN constraint_type = 'UNIQUE'      THEN 4
877  		WHEN constraint_type = 'FOREIGN KEY' THEN 5
878  	      END
879  ,	      constraint_name;
880  
881  -- --------------------------------------------------------
882  --  Step #10
883  --  --------
884  --  Alter the table to add not null constraints.
885  -- --------------------------------------------------------
886  ALTER TABLE system_user_lab
887    MODIFY (system_user_group_id  NUMBER  CONSTRAINT nn_system_user_lab_2 NOT NULL);
888  
889  ALTER TABLE system_user_lab
890    MODIFY (system_user_type      NUMBER  CONSTRAINT nn_system_user_lab_3 NOT NULL);
891  
892  -- Display system_user table constraints.
893  COL table_name	  FORMAT A14  HEADING "Table Name"
894  COL constraint_name  FORMAT A24  HEADING "Constraint Name"
895  COL constraint_type  FORMAT A12  HEADING "Constraint Type"
896  COL status 	  FORMAT A8   HEADING "Status"
897  SELECT   table_name
898  ,	      constraint_name
899  ,	      CASE
900  		WHEN constraint_type = 'R'	  THEN 'FOREIGN KEY'
901  		WHEN constraint_type = 'P'	  THEN 'PRIMARY KEY'
902  		WHEN constraint_type = 'U'	  THEN 'UNIQUE'
903  		WHEN constraint_type = 'C' AND	REGEXP_LIKE(constraint_name,'^.*nn.*$','i')
904  		THEN 'NOT NULL'
905  		ELSE 'CHECK'
906  	      END constraint_type
907  ,	      status
908  FROM     user_constraints
909  WHERE    table_name = 'SYSTEM_USER_LAB'
910  ORDER BY CASE
911  		WHEN constraint_type = 'PRIMARY KEY' THEN 1
912  		WHEN constraint_type = 'NOT NULL'    THEN 2
913  		WHEN constraint_type = 'CHECK'	     THEN 3
914  		WHEN constraint_type = 'UNIQUE'      THEN 4
915  		WHEN constraint_type = 'FOREIGN KEY' THEN 5
916  	      END
917  ,	      constraint_name;
918  
919  -- --------------------------------------------------------
920  --  Step #11
921  --  --------
922  --  Insert row in the system_user table with subqueries.
923  -- --------------------------------------------------------
924  INSERT INTO system_user_lab
925  ( system_user_lab_id
926  , system_user_name
927  , system_user_group_id
928  , system_user_type
929  , first_name
930  , middle_name
931  , last_name
932  , created_by
933  , creation_date
934  , last_updated_by
935  , last_update_date)
936  VALUES
937  ( system_user_lab_s1.NEXTVAL		       -- system_user_lab_id
938  ,'DBA1'					       -- system_user_name
939  ,(SELECT	common_lookup_lab_id
940    FROM	common_lookup_lab
941    WHERE	common_lookup_context = 'SYSTEM_USER_LAB'
942    AND	common_lookup_type = 'DBA')	       -- system_user_group_id
943  ,(SELECT	common_lookup_lab_id
944    FROM	common_lookup_lab
945    WHERE	common_lookup_context = 'SYSTEM_USER_LAB'
946    AND	common_lookup_type = 'SYSTEM_GROUP')   -- system_user_type
947  ,'Phineas'
948  ,'Taylor'
949  ,'Barnum'
950  ,(SELECT	system_user_lab_id
951    FROM	system_user_lab
952    WHERE	system_user_name = 'SYSADMIN')	       -- created_by
953  , SYSDATE					       -- creation_date
954  ,(SELECT	system_user_lab_id
955    FROM	system_user_lab
956    WHERE	system_user_name = 'SYSADMIN')	       -- last_updated_by
957  , SYSDATE					       -- last_update_date
958  );
959  
960  INSERT INTO system_user_lab
961  ( system_user_lab_id
962  , system_user_name
963  , system_user_group_id
964  , system_user_type
965  , first_name
966  , last_name
967  , created_by
968  , creation_date
969  , last_updated_by
970  , last_update_date)
971  VALUES
972  ( system_user_lab_s1.NEXTVAL			   -- system_user_id
973  ,'DBA2'					       -- system_user_name
974  ,(SELECT	common_lookup_lab_id
975    FROM	common_lookup_lab
976    WHERE	common_lookup_context = 'SYSTEM_USER_LAB'
977    AND	common_lookup_type = 'DBA')	       -- system_user_group_id
978  ,(SELECT	common_lookup_lab_id
979    FROM	common_lookup_lab
980    WHERE	common_lookup_context = 'SYSTEM_USER_LAB'
981    AND	common_lookup_type = 'SYSTEM_GROUP')   -- system_user_type
982  ,'Phineas'
983  ,'Fogg'
984  ,(SELECT	system_user_lab_id
985    FROM	system_user_lab
986    WHERE	system_user_name = 'SYSADMIN')	       -- created_by
987  , SYSDATE					       -- creation_date
988  ,(SELECT	system_user_lab_id
989    FROM	system_user_lab
990    WHERE	system_user_name = 'SYSADMIN')	       -- last_updated_by
991  , SYSDATE					       -- last_update_date
992  );
993  
994  -- --------------------------------------------------------
995  --  Step #12
996  --  --------
997  --  Display inserted rows from the system_user table.
998  -- --------------------------------------------------------
999  SET NULL '<Null>'
1000  COL system_user_lab_id	    FORMAT  9999
1001  COL system_user_group_id	FORMAT	9999
1002  COL system_user_type	FORMAT	9999
1003  COL system_user_name	FORMAT	A10
1004  COL full_user_name	FORMAT	A30
1005  SELECT   system_user_lab_id
1006  ,        system_user_group_id
1007  ,        system_user_type
1008  ,        system_user_name
1009  ,        CASE
1010  		 WHEN last_name IS NOT NULL THEN
1011  		   last_name || ', ' || first_name || ' ' || middle_name
1012  	       END AS full_user_name
1013  FROM     system_user_lab;
1014  
1015  -- Commit inserts.
1016  COMMIT;
1017  
1018  SPOOL off
1019  
1020  
1021  @/home/student/Data/cit225/oracle/lib/seed_oracle_store.sql
1021  -- ------------------------------------------------------------------
1022  --  Program Name:   create_oracle_store.sql
1023  --  Lab Assignment: N/A
1024  --  Program Author: Michael McLaughlin
1025  --  Creation Date:  02-Mar-2010
1026  -- ------------------------------------------------------------------
1027  --  Change Log:
1028  -- ------------------------------------------------------------------
1029  --  Change Date	 Change Reason
1030  -- -------------	---------------------------------------------------
1031  --  08-Jun-2014	 Update lab for weekly deliverables.
1032  -- ------------------------------------------------------------------
1033  -- This seeds data in the video store model. It requires that you run
1034  -- the create_oracle_store.sql script.
1035  -- ------------------------------------------------------------------
1036  
1037  -- Open log file.
1038  SPOOL seed_oracle_store.log
1039  
1040  -- Set SQL*Plus environment variables.
1041  SET ECHO ON
1042  SET FEEDBACK ON
1043  SET NULL '<Null>'
1044  SET PAGESIZE 999
1045  SET SERVEROUTPUT ON
1046  
1047  -- Insert statement demonstrates a mandatory-only column override signature.
1048  -- ------------------------------------------------------------------
1049  -- TIP: When a comment ends the last line, you must use a forward slash on
1050  --      on the next line to run the statement rather than a semicolon.
1051  -- ------------------------------------------------------------------
1052  INSERT
1053  INTO system_user
1054  ( system_user_id
1055  , system_user_name
1056  , system_user_group_id
1057  , system_user_type
1058  , last_name
1059  , first_name
1060  , created_by
1061  , creation_date
1062  , last_updated_by
1063  , last_update_date)
1064  VALUES
1065  ( 2		  -- system_user_id
1066  ,'DBA'		  -- system_user_name
1067  , 2		  -- system_user_group_id
1068  , 2		  -- system_user_type
1069  ,'Adams'		  -- last_name
1070  ,'Samuel' 	  -- middle_name
1071  , 1		  -- created_by
1072  , SYSDATE 	  -- creation_date
1073  , 1		  -- last_updated_by
1074  , SYSDATE)	  -- last_update_date
1075  /

Warning: Procedure created with compilation errors.

SQL> 
SQL> -- A variation on the override signature.
SQL> -- ------------------------------------------------------------------
SQL> -- TIP: When omitting column names for values, you may use the semicolon
SQL> --      on the last line to execute the query.
SQL> -- ------------------------------------------------------------------
SQL> INSERT
  2  INTO system_user
  3  ( system_user_id
  4  , system_user_name
  5  , system_user_group_id
  6  , system_user_type
  7  , last_name
  8  , first_name
  9  , created_by
 10  , creation_date
 11  , last_updated_by
 12  , last_update_date)
 13  VALUES
 14  ( 3,'DBA', 2, 2,'Henry','Patrick', 1, SYSDATE, 1, SYSDATE);
INSERT
*
ERROR at line 1:
ORA-00001: unique constraint (STUDENT.PK_SYSTEM_USER_1) violated 


SQL> 
SQL> -- A default signatures must mirror the order of columns in the data catalog.
SQL> INSERT
  2  INTO system_user
  3  VALUES
  4  ( 4
  5  ,'DBA'
  6  , 2
  7  , 2
  8  ,'Manmohan'
  9  , NULL		 -- Optional parameters must be provided a null value in a default signature.
 10  ,'Puri'
 11  , 1
 12  , SYSDATE
 13  , 1
 14  , SYSDATE);
INSERT
*
ERROR at line 1:
ORA-00001: unique constraint (STUDENT.PK_SYSTEM_USER_1) violated 


SQL> 
SQL> -- ------------------------------------------------------------------
SQL> -- This seeds rows in a dependency chain, including the MEMBER, CONTACT
SQL> -- ADDRESS, and TELEPHONE tables.
SQL> -- ------------------------------------------------------------------
SQL> -- Insert record set #1.
SQL> -- ------------------------------------------------------------------
SQL> INSERT INTO member VALUES
  2  ( member_s1.nextval
  3  , NULL
  4  ,'B293-71445'
  5  ,'1111-2222-3333-4444'
  6  ,(SELECT	common_lookup_id
  7    FROM	common_lookup
  8    WHERE	common_lookup_context = 'MEMBER'
  9    AND	common_lookup_type = 'DISCOVER_CARD')
 10  , 2, SYSDATE, 2, SYSDATE);
INSERT INTO member VALUES
*
ERROR at line 1:
ORA-02290: check constraint (STUDENT.NN_MEMBER_1) violated 


SQL> 
SQL> INSERT INTO contact VALUES
  2  ( contact_s1.nextval
  3  , member_s1.currval
  4  ,(SELECT	common_lookup_id
  5    FROM	common_lookup
  6    WHERE	common_lookup_context = 'CONTACT'
  7    AND	common_lookup_type = 'CUSTOMER')
  8  ,'Randi','','Winn'
  9  , 2, SYSDATE, 2, SYSDATE);
INSERT INTO contact VALUES
*
ERROR at line 1:
ORA-02291: integrity constraint (STUDENT.FK_CONTACT_1) violated - parent key
not found 


SQL> 
SQL> INSERT INTO address VALUES
  2  ( address_s1.nextval
  3  , contact_s1.currval
  4  ,(SELECT	common_lookup_id
  5    FROM	common_lookup
  6    WHERE	common_lookup_type = 'HOME')
  7  ,'San Jose','CA','95192'
  8  , 2, SYSDATE, 2, SYSDATE);
INSERT INTO address VALUES
*
ERROR at line 1:
ORA-02291: integrity constraint (STUDENT.FK_ADDRESS_1) violated - parent key
not found 


SQL> 
SQL> INSERT INTO street_address VALUES
  2  ( street_address_s1.nextval
  3  , address_s1.currval
  4  ,'10 El Camino Real'
  5  , 2, SYSDATE, 2, SYSDATE);
INSERT INTO street_address VALUES
*
ERROR at line 1:
ORA-02291: integrity constraint (STUDENT.FK_S_ADDRESS_1) violated - parent key
not found 


SQL> 
SQL> INSERT INTO telephone VALUES
  2  ( telephone_s1.nextval
  3  , address_s1.currval
  4  , contact_s1.currval
  5  ,(SELECT	common_lookup_id
  6    FROM	common_lookup
  7    WHERE	common_lookup_type = 'HOME')
  8  ,'USA','408','111-1111'
  9  , 2, SYSDATE, 2, SYSDATE);
INSERT INTO telephone VALUES
*
ERROR at line 1:
ORA-02291: integrity constraint (STUDENT.FK_TELEPHONE_1) violated - parent key
not found 


SQL> 
SQL> INSERT INTO contact VALUES
  2  ( contact_s1.nextval
  3  , member_s1.currval
  4  ,(SELECT	common_lookup_id
  5    FROM	common_lookup
  6    WHERE	common_lookup_context = 'CONTACT'
  7    AND	common_lookup_type = 'CUSTOMER')
  8  ,'Brian','','Winn'
  9  , 2, SYSDATE, 2, SYSDATE);
INSERT INTO contact VALUES
*
ERROR at line 1:
ORA-02291: integrity constraint (STUDENT.FK_CONTACT_1) violated - parent key
not found 


SQL> 
SQL> INSERT INTO address VALUES
  2  ( address_s1.nextval
  3  , contact_s1.currval
  4  ,(SELECT	common_lookup_id
  5    FROM	common_lookup
  6    WHERE	common_lookup_type = 'HOME')
  7  ,'San Jose','CA','95192'
  8  , 2, SYSDATE, 2, SYSDATE);
INSERT INTO address VALUES
*
ERROR at line 1:
ORA-02291: integrity constraint (STUDENT.FK_ADDRESS_1) violated - parent key
not found 


SQL> 
SQL> INSERT INTO street_address VALUES
  2  ( street_address_s1.nextval
  3  , address_s1.currval
  4  ,'10 El Camino Real'
  5  , 2, SYSDATE, 2, SYSDATE);
INSERT INTO street_address VALUES
*
ERROR at line 1:
ORA-02291: integrity constraint (STUDENT.FK_S_ADDRESS_1) violated - parent key
not found 


SQL> 
SQL> INSERT INTO telephone VALUES
  2  ( telephone_s1.nextval
  3  , address_s1.currval
  4  , contact_s1.currval
  5  ,(SELECT	common_lookup_id
  6    FROM	common_lookup
  7    WHERE	common_lookup_type = 'HOME')
  8  ,'USA','408','111-1111'
  9  , 2, SYSDATE, 2, SYSDATE);
INSERT INTO telephone VALUES
*
ERROR at line 1:
ORA-02291: integrity constraint (STUDENT.FK_TELEPHONE_1) violated - parent key
not found 


SQL> 
SQL> -- ------------------------------------------------------------------
SQL> -- Insert record set #2.
SQL> -- ------------------------------------------------------------------
SQL> INSERT INTO member VALUES
  2  ( member_s1.nextval
  3  , NULL
  4  ,'B293-71446'
  5  ,'2222-3333-4444-5555'
  6  ,(SELECT	common_lookup_id
  7    FROM	common_lookup
  8    WHERE	common_lookup_context = 'MEMBER'
  9    AND	common_lookup_type = 'DISCOVER_CARD')
 10  , 2, SYSDATE, 2, SYSDATE);
INSERT INTO member VALUES
*
ERROR at line 1:
ORA-02290: check constraint (STUDENT.NN_MEMBER_1) violated 


SQL> 
SQL> INSERT INTO contact VALUES
  2  ( contact_s1.nextval
  3  , member_s1.currval
  4  ,(SELECT	common_lookup_id
  5    FROM	common_lookup
  6    WHERE	common_lookup_context = 'CONTACT'
  7    AND	common_lookup_type = 'CUSTOMER')
  8  ,'Oscar','','Vizquel'
  9  , 2, SYSDATE, 2, SYSDATE);
INSERT INTO contact VALUES
*
ERROR at line 1:
ORA-02291: integrity constraint (STUDENT.FK_CONTACT_1) violated - parent key
not found 


SQL> 
SQL> INSERT INTO address VALUES
  2  ( address_s1.nextval
  3  , contact_s1.currval
  4  ,(SELECT	common_lookup_id
  5    FROM	common_lookup
  6    WHERE	common_lookup_type = 'HOME')
  7  ,'San Jose','CA','95192'
  8  , 2, SYSDATE, 2, SYSDATE);
INSERT INTO address VALUES
*
ERROR at line 1:
ORA-02291: integrity constraint (STUDENT.FK_ADDRESS_1) violated - parent key
not found 


SQL> 
SQL> INSERT INTO street_address VALUES
  2  ( street_address_s1.nextval
  3  , address_s1.currval
  4  ,'12 El Camino Real'
  5  , 2, SYSDATE, 2, SYSDATE);
INSERT INTO street_address VALUES
*
ERROR at line 1:
ORA-02291: integrity constraint (STUDENT.FK_S_ADDRESS_1) violated - parent key
not found 


SQL> 
SQL> INSERT INTO telephone VALUES
  2  ( telephone_s1.nextval
  3  , address_s1.currval
  4  , contact_s1.currval
  5  ,(SELECT	common_lookup_id
  6    FROM	common_lookup
  7    WHERE	common_lookup_type = 'HOME')
  8  ,'USA','408','222-2222'
  9  , 2, SYSDATE, 2, SYSDATE);
INSERT INTO telephone VALUES
*
ERROR at line 1:
ORA-02291: integrity constraint (STUDENT.FK_TELEPHONE_1) violated - parent key
not found 


SQL> 
SQL> INSERT INTO contact VALUES
  2  ( contact_s1.nextval
  3  , member_s1.currval
  4  ,(SELECT	common_lookup_id
  5    FROM	common_lookup
  6    WHERE	common_lookup_context = 'CONTACT'
  7    AND	common_lookup_type = 'CUSTOMER')
  8  ,'Doreen','','Vizquel'
  9  , 2, SYSDATE, 2, SYSDATE);
INSERT INTO contact VALUES
*
ERROR at line 1:
ORA-02291: integrity constraint (STUDENT.FK_CONTACT_1) violated - parent key
not found 


SQL> 
SQL> INSERT INTO address VALUES
  2  ( address_s1.nextval
  3  , contact_s1.currval
  4  ,(SELECT	common_lookup_id
  5    FROM	common_lookup
  6    WHERE	common_lookup_type = 'HOME')
  7  ,'San Jose','CA','95192'
  8  , 2, SYSDATE, 2, SYSDATE);
INSERT INTO address VALUES
*
ERROR at line 1:
ORA-02291: integrity constraint (STUDENT.FK_ADDRESS_1) violated - parent key
not found 


SQL> 
SQL> INSERT INTO street_address VALUES
  2  ( street_address_s1.nextval
  3  , address_s1.currval
  4  ,'12 El Camino Real'
  5  , 2, SYSDATE, 2, SYSDATE);
INSERT INTO street_address VALUES
*
ERROR at line 1:
ORA-02291: integrity constraint (STUDENT.FK_S_ADDRESS_1) violated - parent key
not found 


SQL> 
SQL> INSERT INTO telephone VALUES
  2  ( telephone_s1.nextval
  3  , address_s1.currval
  4  , contact_s1.currval
  5  ,(SELECT	common_lookup_id
  6    FROM	common_lookup
  7    WHERE	common_lookup_type = 'HOME')
  8  ,'USA','408','222-2222'
  9  , 2, SYSDATE, 2, SYSDATE);
INSERT INTO telephone VALUES
*
ERROR at line 1:
ORA-02291: integrity constraint (STUDENT.FK_TELEPHONE_1) violated - parent key
not found 


SQL> 
SQL> -- ------------------------------------------------------------------
SQL> -- Insert record set #3.
SQL> -- ------------------------------------------------------------------
SQL> INSERT INTO member VALUES
  2  ( member_s1.nextval
  3  , NULL
  4  ,'B293-71447'
  5  ,'3333-4444-5555-6666'
  6  ,(SELECT	common_lookup_id
  7    FROM	common_lookup
  8    WHERE	common_lookup_context = 'MEMBER'
  9    AND	common_lookup_type = 'DISCOVER_CARD')
 10  , 2, SYSDATE, 2, SYSDATE);
INSERT INTO member VALUES
*
ERROR at line 1:
ORA-02290: check constraint (STUDENT.NN_MEMBER_1) violated 


SQL> 
SQL> INSERT INTO contact VALUES
  2  ( contact_s1.nextval
  3  , member_s1.currval
  4  ,(SELECT	common_lookup_id
  5    FROM	common_lookup
  6    WHERE	common_lookup_context = 'CONTACT'
  7    AND	common_lookup_type = 'CUSTOMER')
  8  ,'Meaghan','','Sweeney'
  9  , 2, SYSDATE, 2, SYSDATE);
INSERT INTO contact VALUES
*
ERROR at line 1:
ORA-02291: integrity constraint (STUDENT.FK_CONTACT_1) violated - parent key
not found 


SQL> 
SQL> INSERT INTO address VALUES
  2  ( address_s1.nextval
  3  , contact_s1.currval
  4  ,(SELECT	common_lookup_id
  5    FROM	common_lookup
  6    WHERE	common_lookup_type = 'HOME')
  7  ,'San Jose','CA','95192'
  8  , 2, SYSDATE, 2, SYSDATE);
INSERT INTO address VALUES
*
ERROR at line 1:
ORA-02291: integrity constraint (STUDENT.FK_ADDRESS_1) violated - parent key
not found 


SQL> 
SQL> INSERT INTO street_address VALUES
  2  ( street_address_s1.nextval
  3  , address_s1.currval
  4  ,'14 El Camino Real'
  5  , 2, SYSDATE, 2, SYSDATE);
INSERT INTO street_address VALUES
*
ERROR at line 1:
ORA-02291: integrity constraint (STUDENT.FK_S_ADDRESS_1) violated - parent key
not found 


SQL> 
SQL> INSERT INTO telephone VALUES
  2  ( telephone_s1.nextval
  3  , address_s1.currval
  4  , contact_s1.currval
  5  ,(SELECT	common_lookup_id
  6    FROM	common_lookup
  7    WHERE	common_lookup_type = 'HOME')
  8  ,'USA','408','333-3333'
  9  , 2, SYSDATE, 2, SYSDATE);
INSERT INTO telephone VALUES
*
ERROR at line 1:
ORA-02291: integrity constraint (STUDENT.FK_TELEPHONE_1) violated - parent key
not found 


SQL> 
SQL> INSERT INTO contact VALUES
  2  ( contact_s1.nextval
  3  , member_s1.currval
  4  ,(SELECT	common_lookup_id
  5    FROM	common_lookup
  6    WHERE	common_lookup_context = 'CONTACT'
  7    AND	common_lookup_type = 'CUSTOMER')
  8  ,'Matthew','','Sweeney'
  9  , 2, SYSDATE, 2, SYSDATE);
INSERT INTO contact VALUES
*
ERROR at line 1:
ORA-02291: integrity constraint (STUDENT.FK_CONTACT_1) violated - parent key
not found 


SQL> 
SQL> INSERT INTO address VALUES
  2  ( address_s1.nextval
  3  , contact_s1.currval
  4  ,(SELECT	common_lookup_id
  5    FROM	common_lookup
  6    WHERE	common_lookup_type = 'HOME')
  7  ,'San Jose','CA','95192'
  8  , 2, SYSDATE, 2, SYSDATE);
INSERT INTO address VALUES
*
ERROR at line 1:
ORA-02291: integrity constraint (STUDENT.FK_ADDRESS_1) violated - parent key
not found 


SQL> 
SQL> INSERT INTO street_address VALUES
  2  ( street_address_s1.nextval
  3  , address_s1.currval
  4  ,'14 El Camino Real'
  5  , 2, SYSDATE, 2, SYSDATE);
INSERT INTO street_address VALUES
*
ERROR at line 1:
ORA-02291: integrity constraint (STUDENT.FK_S_ADDRESS_1) violated - parent key
not found 


SQL> 
SQL> INSERT INTO telephone VALUES
  2  ( telephone_s1.nextval
  3  , address_s1.currval
  4  , contact_s1.currval
  5  ,(SELECT	common_lookup_id
  6    FROM	common_lookup
  7    WHERE	common_lookup_type = 'HOME')
  8  ,'USA','408','333-3333'
  9  , 2, SYSDATE, 2, SYSDATE);
INSERT INTO telephone VALUES
*
ERROR at line 1:
ORA-02291: integrity constraint (STUDENT.FK_TELEPHONE_1) violated - parent key
not found 


SQL> 
SQL> INSERT INTO contact VALUES
  2  ( contact_s1.nextval
  3  , member_s1.currval
  4  ,(SELECT	common_lookup_id
  5    FROM	common_lookup
  6    WHERE	common_lookup_context = 'CONTACT'
  7    AND	common_lookup_type = 'CUSTOMER')
  8  ,'Ian','M','Sweeney'
  9  , 2, SYSDATE, 2, SYSDATE);
INSERT INTO contact VALUES
*
ERROR at line 1:
ORA-02291: integrity constraint (STUDENT.FK_CONTACT_1) violated - parent key
not found 


SQL> 
SQL> INSERT INTO address VALUES
  2  ( address_s1.nextval
  3  , contact_s1.currval
  4  ,(SELECT	common_lookup_id
  5    FROM	common_lookup
  6    WHERE	common_lookup_type = 'HOME')
  7  ,'San Jose','CA','95192'
  8  , 2, SYSDATE, 2, SYSDATE);
INSERT INTO address VALUES
*
ERROR at line 1:
ORA-02291: integrity constraint (STUDENT.FK_ADDRESS_1) violated - parent key
not found 


SQL> 
SQL> INSERT INTO street_address VALUES
  2  ( street_address_s1.nextval
  3  , address_s1.currval
  4  ,'14 El Camino Real'
  5  , 2, SYSDATE, 2, SYSDATE);
INSERT INTO street_address VALUES
*
ERROR at line 1:
ORA-02291: integrity constraint (STUDENT.FK_S_ADDRESS_1) violated - parent key
not found 


SQL> 
SQL> INSERT INTO telephone VALUES
  2  ( telephone_s1.nextval
  3  , address_s1.currval
  4  , contact_s1.currval
  5  ,(SELECT	common_lookup_id
  6    FROM	common_lookup
  7    WHERE	common_lookup_type = 'HOME')
  8  ,'USA','408','333-3333'
  9  , 2, SYSDATE, 2, SYSDATE);
INSERT INTO telephone VALUES
*
ERROR at line 1:
ORA-02291: integrity constraint (STUDENT.FK_TELEPHONE_1) violated - parent key
not found 


SQL> 
SQL> -- ------------------------------------------------------------------
SQL> -- Insert 21 rows in the ITEM table.
SQL> -- ------------------------------------------------------------------
SQL> INSERT INTO item VALUES
  2  ( item_s1.nextval
  3  ,'9736-05640-4'
  4  ,(SELECT	common_lookup_id
  5    FROM	common_lookup
  6    WHERE	common_lookup_type = 'DVD_WIDE_SCREEN')
  7  ,'The Hunt for Red October','Special Collector''s Edition','PG'
  8  ,'02-MAR-90'
  9  , 3, SYSDATE, 3, SYSDATE);

1 row created.

SQL> 
SQL> INSERT INTO item VALUES
  2  ( item_s1.nextval
  3  ,'24543-02392'
  4  ,(SELECT	common_lookup_id
  5    FROM	common_lookup
  6    WHERE	common_lookup_type = 'DVD_WIDE_SCREEN')
  7  ,'Star Wars I','Phantom Menace','PG'
  8  ,'04-MAY-99'
  9  , 3, SYSDATE, 3, SYSDATE);

1 row created.

SQL> 
SQL> INSERT INTO item VALUES
  2  ( item_s1.nextval
  3  ,'24543-5615'
  4  ,(SELECT	common_lookup_id
  5    FROM	common_lookup
  6    WHERE	common_lookup_type = 'DVD_FULL_SCREEN')
  7  ,'Star Wars II','Attack of the Clones','PG'
  8  ,'16-MAY-02'
  9  , 3, SYSDATE, 3, SYSDATE);

1 row created.

SQL> 
SQL> INSERT INTO item VALUES
  2  ( item_s1.nextval
  3  ,'24543-05539'
  4  ,(SELECT	common_lookup_id
  5    FROM	common_lookup
  6    WHERE	common_lookup_type = 'DVD_WIDE_SCREEN')
  7  ,'Star Wars II','Attack of the Clones','PG'
  8  ,'16-MAY-02'
  9  , 3, SYSDATE, 3, SYSDATE);

1 row created.

SQL> 
SQL> INSERT INTO item VALUES
  2  ( item_s1.nextval
  3  ,'24543-20309'
  4  ,(SELECT	common_lookup_id
  5    FROM	common_lookup
  6    WHERE	common_lookup_type = 'DVD_WIDE_SCREEN')
  7  ,'Star Wars III','Revenge of the Sith','PG13'
  8  ,'19-MAY-05'
  9  , 3, SYSDATE, 3, SYSDATE);

1 row created.

SQL> 
SQL> INSERT INTO item VALUES
  2  ( item_s1.nextval
  3  ,'86936-70380'
  4  ,(SELECT	common_lookup_id
  5    FROM	common_lookup
  6    WHERE	common_lookup_type = 'DVD_WIDE_SCREEN')
  7  ,'The Chronicles of Narnia'
  8  ,'The Lion, the Witch and the Wardrobe','PG'
  9  ,'16-MAY-02'
 10  , 3, SYSDATE, 3, SYSDATE);

1 row created.

SQL> 
SQL> INSERT INTO item VALUES
  2  ( item_s1.nextval
  3  ,'91493-06475'
  4  ,(SELECT	common_lookup_id
  5    FROM	common_lookup
  6    WHERE	common_lookup_type = 'XBOX')
  7  ,'RoboCop','','Mature'
  8  ,'24-JUL-03'
  9  , 3, SYSDATE, 3, SYSDATE);

1 row created.

SQL> 
SQL> INSERT INTO item VALUES
  2  ( item_s1.nextval
  3  ,'93155-11810'
  4  ,(SELECT	common_lookup_id
  5    FROM	common_lookup
  6    WHERE	common_lookup_type = 'XBOX')
  7  ,'Pirates of the Caribbean','','Teen','30-JUN-03'
  8  , 3, SYSDATE, 3, SYSDATE);

1 row created.

SQL> 
SQL> INSERT INTO item VALUES
  2  ( item_s1.nextval
  3  ,'12725-00173'
  4  ,(SELECT	common_lookup_id
  5    FROM	common_lookup
  6    WHERE	common_lookup_type = 'XBOX')
  7  ,'The Chronicles of Narnia'
  8  ,'The Lion, the Witch and the Wardrobe','Everyone','30-JUN-03'
  9  , 3, SYSDATE, 3, SYSDATE);

1 row created.

SQL> 
SQL> INSERT INTO item VALUES
  2  ( item_s1.nextval
  3  ,'45496-96128'
  4  ,(SELECT	common_lookup_id
  5    FROM	common_lookup
  6    WHERE	common_lookup_type = 'NINTENDO_GAMECUBE')
  7  ,'MarioKart','Double Dash','Everyone','17-NOV-03'
  8  , 3, SYSDATE, 3, SYSDATE);

1 row created.

SQL> 
SQL> INSERT INTO item VALUES
  2  ( item_s1.nextval
  3  ,'08888-32214'
  4  ,(SELECT	common_lookup_id
  5    FROM	common_lookup
  6    WHERE	common_lookup_type = 'PLAYSTATION2')
  7  ,'Splinter Cell','Chaos Theory','Teen','08-APR-03'
  8  , 3, SYSDATE, 3, SYSDATE);

1 row created.

SQL> 
SQL> INSERT INTO item VALUES
  2  ( item_s1.nextval
  3  ,'14633-14821'
  4  ,(SELECT	common_lookup_id
  5    FROM	common_lookup
  6    WHERE	common_lookup_type = 'PLAYSTATION2')
  7  ,'Need for Speed','Most Wanted','Everyone','15-NOV-04'
  8  , 3, SYSDATE, 3, SYSDATE);

1 row created.

SQL> 
SQL> INSERT INTO item VALUES
  2  ( item_s1.nextval
  3  ,'10425-29944'
  4  ,(SELECT	common_lookup_id
  5    FROM	common_lookup
  6    WHERE	common_lookup_type = 'XBOX')
  7  ,'The DaVinci Code','','Teen','19-MAY-06'
  8  , 3, SYSDATE, 3, SYSDATE);

1 row created.

SQL> 
SQL> INSERT INTO item VALUES
  2  ( item_s1.nextval
  3  ,'52919-52057'
  4  ,(SELECT	common_lookup_id
  5    FROM	common_lookup
  6    WHERE	common_lookup_type = 'XBOX')
  7  ,'Cars','','Everyone','28-APR-06'
  8  , 3, SYSDATE, 3, SYSDATE);

1 row created.

SQL> 
SQL> INSERT INTO item VALUES
  2  ( item_s1.nextval
  3  ,'9689-80547-3'
  4  ,(SELECT	common_lookup_id
  5    FROM	common_lookup
  6    WHERE	common_lookup_type = 'BLU-RAY')
  7  ,'Beau Geste','','PG','01-MAR-92'
  8  , 3, SYSDATE, 3, SYSDATE);

1 row created.

SQL> 
SQL> INSERT INTO item VALUES
  2  ( item_s1.nextval
  3  ,'53939-64103'
  4  ,(SELECT	common_lookup_id
  5    FROM	common_lookup
  6    WHERE	common_lookup_type = 'BLU-RAY')
  7  ,'I Remember Mama','','NR','05-JAN-98'
  8  , 3, SYSDATE, 3, SYSDATE);

1 row created.

SQL> 
SQL> INSERT INTO item VALUES
  2  ( item_s1.nextval
  3  ,'24543-01292'
  4  ,(SELECT	common_lookup_id
  5    FROM	common_lookup
  6    WHERE	common_lookup_type = 'BLU-RAY')
  7  ,'Tora! Tora! Tora!','The Attack on Pearl Harbor','G','02-NOV-99'
  8  , 3, SYSDATE, 3, SYSDATE);

1 row created.

SQL> 
SQL> INSERT INTO item VALUES
  2  ( item_s1.nextval
  3  ,'43396-60047'
  4  ,(SELECT	common_lookup_id
  5    FROM	common_lookup
  6    WHERE	common_lookup_type = 'BLU-RAY')
  7  ,'A Man for All Seasons','','G','28-JUN-94'
  8  , 3, SYSDATE, 3, SYSDATE);

1 row created.

SQL> 
SQL> INSERT INTO item VALUES
  2  ( item_s1.nextval
  3  ,'43396-70603'
  4  ,(SELECT	common_lookup_id
  5    FROM	common_lookup
  6    WHERE	common_lookup_type = 'BLU-RAY')
  7  ,'Hook','','PG','11-DEC-91'
  8  , 3, SYSDATE, 3, SYSDATE);

1 row created.

SQL> 
SQL> INSERT INTO item VALUES
  2  ( item_s1.nextval
  3  ,'85391-13213'
  4  ,(SELECT	common_lookup_id
  5    FROM	common_lookup
  6    WHERE	common_lookup_type = 'BLU-RAY')
  7  ,'Around the World in 80 Days','','G','04-DEC-92'
  8  , 3, SYSDATE, 3, SYSDATE);

1 row created.

SQL> 
SQL> INSERT INTO item VALUES
  2  ( item_s1.nextval
  3  ,'85391-10843'
  4  ,(SELECT	common_lookup_id
  5    FROM	common_lookup
  6    WHERE	common_lookup_type = 'BLU-RAY')
  7  ,'Camelot','','G','15-MAY-98'
  8  , 3, SYSDATE, 3, SYSDATE);

1 row created.

SQL> 
SQL> -- ------------------------------------------------------------------
SQL> -- Inserts 5 rentals with 9 dependent rental items.  This section inserts
SQL> -- 5 rows in the RENTAL table, then 9 rows in the RENTAL_ITEM table. The
SQL> -- inserts into the RENTAL_ITEM tables use scalar subqueries to find the
SQL> -- proper foreign key values by querying the RENTAL table primary keys.
SQL> -- ------------------------------------------------------------------
SQL> -- Insert 5 records in the RENTAL table.
SQL> -- ------------------------------------------------------------------
SQL> INSERT INTO rental VALUES
  2  ( rental_s1.nextval
  3  ,(SELECT	contact_id
  4    FROM	contact
  5    WHERE	last_name = 'Vizquel'
  6    AND	first_name = 'Oscar')
  7  , TRUNC(SYSDATE), TRUNC(SYSDATE) + 5
  8  , 3, SYSDATE, 3, SYSDATE);

1 row created.

SQL> 
SQL> INSERT INTO rental VALUES
  2  ( rental_s1.nextval
  3  ,(SELECT	contact_id
  4    FROM	contact
  5    WHERE	last_name = 'Vizquel'
  6    AND	first_name = 'Doreen')
  7  , TRUNC(SYSDATE), TRUNC(SYSDATE) + 5
  8  , 3, SYSDATE, 3, SYSDATE);

1 row created.

SQL> 
SQL> INSERT INTO rental VALUES
  2  ( rental_s1.nextval
  3  ,(SELECT	contact_id
  4    FROM	contact
  5    WHERE	last_name = 'Sweeney'
  6    AND	first_name = 'Meaghan')
  7  , TRUNC(SYSDATE), TRUNC(SYSDATE) + 5
  8  , 3, SYSDATE, 3, SYSDATE);

1 row created.

SQL> 
SQL> INSERT INTO rental VALUES
  2  ( rental_s1.nextval
  3  ,(SELECT	contact_id
  4    FROM	contact
  5    WHERE	last_name = 'Sweeney'
  6    AND	first_name = 'Ian')
  7  , TRUNC(SYSDATE), TRUNC(SYSDATE) + 5
  8  , 3, SYSDATE, 3, SYSDATE);

1 row created.

SQL> 
SQL> INSERT INTO rental VALUES
  2  ( rental_s1.nextval
  3  ,(SELECT	contact_id
  4    FROM	contact
  5    WHERE	last_name = 'Winn'
  6    AND	first_name = 'Brian')
  7  , TRUNC(SYSDATE), TRUNC(SYSDATE) + 5
  8  , 3, SYSDATE, 3, SYSDATE);

1 row created.

SQL> 
SQL> -- ------------------------------------------------------------------
SQL> -- Insert 9 records in the RENTAL_ITEM table.
SQL> -- ------------------------------------------------------------------
SQL> INSERT INTO rental_item
  2  ( rental_item_id
  3  , rental_id
  4  , item_id
  5  , created_by
  6  , creation_date
  7  , last_updated_by
  8  , last_update_date)
  9  VALUES
 10  ( rental_item_s1.nextval
 11  ,(SELECT	r.rental_id
 12    FROM	rental r
 13    ,	contact c
 14    WHERE	r.customer_id = c.contact_id
 15    AND	c.last_name = 'Vizquel'
 16    AND	c.first_name = 'Oscar')
 17  ,(SELECT	i.item_id
 18    FROM	item i
 19    ,	common_lookup cl
 20    WHERE	i.item_title = 'Star Wars I'
 21    AND	i.item_subtitle = 'Phantom Menace'
 22    AND	i.item_type = cl.common_lookup_id
 23    AND	cl.common_lookup_type = 'DVD_WIDE_SCREEN')
 24  , 3, SYSDATE, 3, SYSDATE);
,(SELECT   r.rental_id
  *
ERROR at line 11:
ORA-01427: single-row subquery returns more than one row 


SQL> 
SQL> INSERT INTO rental_item
  2  ( rental_item_id
  3  , rental_id
  4  , item_id
  5  , created_by
  6  , creation_date
  7  , last_updated_by
  8  , last_update_date)
  9  VALUES
 10  ( rental_item_s1.nextval
 11  ,(SELECT	r.rental_id
 12    FROM	rental r inner join contact c
 13    ON	r.customer_id = c.contact_id
 14    WHERE	c.last_name = 'Vizquel'
 15    AND	c.first_name = 'Oscar')
 16  ,(SELECT	d.item_id
 17    FROM	item d join common_lookup cl
 18    ON	d.item_title = 'Star Wars II'
 19    WHERE	d.item_subtitle = 'Attack of the Clones'
 20    AND	d.item_type = cl.common_lookup_id
 21    AND	cl.common_lookup_type = 'DVD_WIDE_SCREEN')
 22  , 3, SYSDATE, 3, SYSDATE);
,(SELECT   r.rental_id
  *
ERROR at line 11:
ORA-01427: single-row subquery returns more than one row 


SQL> 
SQL> INSERT INTO rental_item
  2  ( rental_item_id
  3  , rental_id
  4  , item_id
  5  , created_by
  6  , creation_date
  7  , last_updated_by
  8  , last_update_date)
  9  VALUES
 10  ( rental_item_s1.nextval
 11  ,(SELECT	r.rental_id
 12    FROM	rental r
 13    ,	contact c
 14    WHERE	r.customer_id = c.contact_id
 15    AND	c.last_name = 'Vizquel'
 16    AND	c.first_name = 'Oscar')
 17  ,(SELECT	d.item_id
 18    FROM	item d
 19    ,	common_lookup cl
 20    WHERE	d.item_title = 'Star Wars III'
 21    AND	d.item_subtitle = 'Revenge of the Sith'
 22    AND	d.item_type = cl.common_lookup_id
 23    AND	cl.common_lookup_type = 'DVD_WIDE_SCREEN')
 24  , 3, SYSDATE, 3, SYSDATE);
,(SELECT   r.rental_id
  *
ERROR at line 11:
ORA-01427: single-row subquery returns more than one row 


SQL> 
SQL> INSERT INTO rental_item
  2  ( rental_item_id
  3  , rental_id
  4  , item_id
  5  , created_by
  6  , creation_date
  7  , last_updated_by
  8  , last_update_date)
  9  VALUES
 10  ( rental_item_s1.nextval
 11  ,(SELECT	r.rental_id
 12    FROM	rental r
 13    ,	contact c
 14    WHERE	r.customer_id = c.contact_id
 15    AND	c.last_name = 'Vizquel'
 16    AND	c.first_name = 'Doreen')
 17  ,(SELECT	d.item_id
 18    FROM	item d
 19    ,	common_lookup cl
 20    WHERE	d.item_title = 'I Remember Mama'
 21    AND	d.item_subtitle IS NULL
 22    AND	d.item_type = cl.common_lookup_id
 23    AND	cl.common_lookup_type = 'BLU-RAY')
 24  , 3, SYSDATE, 3, SYSDATE);
,(SELECT   r.rental_id
  *
ERROR at line 11:
ORA-01427: single-row subquery returns more than one row 


SQL> 
SQL> INSERT INTO rental_item
  2  ( rental_item_id
  3  , rental_id
  4  , item_id
  5  , created_by
  6  , creation_date
  7  , last_updated_by
  8  , last_update_date)
  9  VALUES
 10  ( rental_item_s1.nextval
 11  ,(SELECT	r.rental_id
 12    FROM	rental r
 13    ,	contact c
 14    WHERE	r.customer_id = c.contact_id
 15    AND	c.last_name = 'Vizquel'
 16    AND	c.first_name = 'Doreen')
 17  ,(SELECT	d.item_id
 18    FROM	item d
 19    ,	common_lookup cl
 20    WHERE	d.item_title = 'Camelot'
 21    AND	d.item_subtitle IS NULL
 22    AND	d.item_type = cl.common_lookup_id
 23    AND	cl.common_lookup_type = 'BLU-RAY')
 24  , 3, SYSDATE, 3, SYSDATE);
,(SELECT   r.rental_id
  *
ERROR at line 11:
ORA-01427: single-row subquery returns more than one row 


SQL> 
SQL> INSERT INTO rental_item
  2  ( rental_item_id
  3  , rental_id
  4  , item_id
  5  , created_by
  6  , creation_date
  7  , last_updated_by
  8  , last_update_date)
  9  VALUES
 10  ( rental_item_s1.nextval
 11  ,(SELECT	r.rental_id
 12    FROM	rental r
 13    ,	contact c
 14    WHERE	r.customer_id = c.contact_id
 15    AND	c.last_name = 'Sweeney'
 16    AND	c.first_name = 'Meaghan')
 17  ,(SELECT	d.item_id
 18    FROM	item d
 19    ,	common_lookup cl
 20    WHERE	d.item_title = 'Hook'
 21    AND	d.item_subtitle IS NULL
 22    AND	d.item_type = cl.common_lookup_id
 23    AND	cl.common_lookup_type = 'BLU-RAY')
 24  , 3, SYSDATE, 3, SYSDATE);
,(SELECT   r.rental_id
  *
ERROR at line 11:
ORA-01427: single-row subquery returns more than one row 


SQL> 
SQL> INSERT INTO rental_item
  2  ( rental_item_id
  3  , rental_id
  4  , item_id
  5  , created_by
  6  , creation_date
  7  , last_updated_by
  8  , last_update_date)
  9  VALUES
 10  ( rental_item_s1.nextval
 11  ,(SELECT	r.rental_id
 12    FROM	rental r
 13    ,	contact c
 14    WHERE	r.customer_id = c.contact_id
 15    AND	c.last_name = 'Sweeney'
 16    AND	c.first_name = 'Ian')
 17  ,(SELECT	d.item_id
 18    FROM	item d
 19    ,	common_lookup cl
 20    WHERE	d.item_title = 'Cars'
 21    AND	d.item_subtitle IS NULL
 22    AND	d.item_type = cl.common_lookup_id
 23    AND	cl.common_lookup_type = 'XBOX')
 24  , 3, SYSDATE, 3, SYSDATE);
,(SELECT   r.rental_id
  *
ERROR at line 11:
ORA-01427: single-row subquery returns more than one row 


SQL> 
SQL> INSERT INTO rental_item
  2  ( rental_item_id
  3  , rental_id
  4  , item_id
  5  , created_by
  6  , creation_date
  7  , last_updated_by
  8  , last_update_date)
  9  VALUES
 10  ( rental_item_s1.nextval
 11  ,(SELECT	r.rental_id
 12    FROM	rental r
 13    ,	contact c
 14    WHERE	r.customer_id = c.contact_id
 15    AND	c.last_name = 'Winn'
 16    AND	c.first_name = 'Brian')
 17  ,(SELECT	d.item_id
 18    FROM	item d
 19    ,	common_lookup cl
 20    WHERE	d.item_title = 'RoboCop'
 21    AND	d.item_subtitle IS NULL
 22    AND	d.item_type = cl.common_lookup_id
 23    AND	cl.common_lookup_type = 'XBOX')
 24  , 3, SYSDATE, 3, SYSDATE);
,(SELECT   r.rental_id
  *
ERROR at line 11:
ORA-01427: single-row subquery returns more than one row 


SQL> 
SQL> INSERT INTO rental_item
  2  ( rental_item_id
  3  , rental_id
  4  , item_id
  5  , created_by
  6  , creation_date
  7  , last_updated_by
  8  , last_update_date)
  9  VALUES
 10  ( rental_item_s1.nextval
 11  ,(SELECT	r.rental_id
 12    FROM	rental r
 13    ,	contact c
 14    WHERE	r.customer_id = c.contact_id
 15    AND	c.last_name = 'Winn'
 16    AND	c.first_name = 'Brian')
 17  ,(SELECT	d.item_id
 18    FROM	item d
 19    ,	common_lookup cl
 20    WHERE	d.item_title = 'The Hunt for Red October'
 21    AND	d.item_subtitle = 'Special Collector''s Edition'
 22    AND	d.item_type = cl.common_lookup_id
 23    AND	cl.common_lookup_type = 'DVD_WIDE_SCREEN')
 24  , 3, SYSDATE, 3, SYSDATE);
,(SELECT   r.rental_id
  *
ERROR at line 11:
ORA-01427: single-row subquery returns more than one row 


SQL> 
SQL> -- ------------------------------------------------------------------
SQL> -- These steps modify the MEMBER table created during Lab #2, by adding
SQL> -- a MEMBER_TYPE column and seeding an appropriate group or individual
SQL> -- account on the basis of how many contacts belong to a member.
SQL> -- ------------------------------------------------------------------
SQL> -- Update all MEMBER_TYPE values based on number of dependent CONTACT rows.
SQL> UPDATE member m
  2  SET    member_type = (SELECT   common_lookup_id
  3  			   FROM     common_lookup
  4  			   WHERE    common_lookup_context = 'MEMBER'
  5  			   AND	    common_lookup_type =
  6  				     (SELECT  dt.member_type
  7  				      FROM   (SELECT   c.member_id
  8  					      ,        CASE
  9  							 WHEN COUNT(c.member_id) > 1 THEN
 10  							  'GROUP'
 11  							 ELSE
 12  							  'INDIVIDUAL'
 13  						       END AS member_type
 14  					      FROM     contact c
 15  					      GROUP BY c.member_id) dt
 16  				      WHERE   dt.member_id = m.member_id));

38 rows updated.

SQL> 
SQL> -- Modify the MEMBER table to add a NOT NULL constraint to the MEMBER_TYPE column.
SQL> ALTER TABLE member
  2  ADD CONSTRAINT nn_member_1 CHECK(member_type IS NOT NULL);
ADD CONSTRAINT nn_member_1 CHECK(member_type IS NOT NULL)
               *
ERROR at line 2:
ORA-02264: name already used by an existing constraint 


SQL> 
SQL> -- Use SQL*Plus report formatting commands.
SQL> COLUMN member_id	       FORMAT 999999 HEADING "MEMBER|ID"
SQL> COLUMN members	       FORMAT 999999 HEADING "MEMBER|QTY #"
SQL> COLUMN member_type        FORMAT 999999 HEADING "MEMBER|TYPE|ID #"
SQL> COLUMN common_lookup_id   FORMAT 999999 HEADING "MEMBER|LOOKUP|ID #"
SQL> COLUMN common_lookup_type FORMAT A12    HEADING "COMMON|LOOKUP|TYPE"
SQL> 
SQL> -- Verify MEMBER_TYPE values, confirms preceding UPDATE statement.
SQL> SELECT   m.member_id
  2  ,	      COUNT(contact_id) AS MEMBERS
  3  ,	      m.member_type
  4  ,	      cl.common_lookup_id
  5  ,	      cl.common_lookup_type
  6  FROM     member m INNER JOIN contact c
  7  ON       m.member_id = c.member_id INNER JOIN common_lookup cl
  8  ON       m.member_type = cl.common_lookup_id
  9  GROUP BY m.member_id
 10  ,	      m.member_type
 11  ,	      cl.common_lookup_id
 12  ,	      cl.common_lookup_type
 13  ORDER BY m.member_id;

                 MEMBER  MEMBER COMMON                                          
 MEMBER  MEMBER    TYPE  LOOKUP LOOKUP                                          
     ID   QTY #    ID #    ID # TYPE                                            
------- ------- ------- ------- ------------                                    
   1001       2    1004    1004 GROUP                                           
   1002       2    1004    1004 GROUP                                           
   1003       3    1004    1004 GROUP                                           
   1004       1    1003    1003 INDIVIDUAL                                      
   1005       1    1003    1003 INDIVIDUAL                                      
   1006       1    1003    1003 INDIVIDUAL                                      
   1007       1    1003    1003 INDIVIDUAL                                      
   1008       1    1003    1003 INDIVIDUAL                                      
   1012       1    1003    1003 INDIVIDUAL                                      
   1013       1    1003    1003 INDIVIDUAL                                      
   1014       1    1003    1003 INDIVIDUAL                                      
   1015       1    1003    1003 INDIVIDUAL                                      
   1016       1    1003    1003 INDIVIDUAL                                      
   1020       1    1003    1003 INDIVIDUAL                                      
   1021       1    1003    1003 INDIVIDUAL                                      
   1022       1    1003    1003 INDIVIDUAL                                      
   1023       1    1003    1003 INDIVIDUAL                                      
   1024       1    1003    1003 INDIVIDUAL                                      
   1028       1    1003    1003 INDIVIDUAL                                      
   1029       1    1003    1003 INDIVIDUAL                                      
   1030       1    1003    1003 INDIVIDUAL                                      
   1031       1    1003    1003 INDIVIDUAL                                      
   1032       1    1003    1003 INDIVIDUAL                                      
   1036       1    1003    1003 INDIVIDUAL                                      
   1037       1    1003    1003 INDIVIDUAL                                      
   1038       1    1003    1003 INDIVIDUAL                                      
   1039       1    1003    1003 INDIVIDUAL                                      
   1040       1    1003    1003 INDIVIDUAL                                      
   1044       1    1003    1003 INDIVIDUAL                                      
   1045       1    1003    1003 INDIVIDUAL                                      
   1046       1    1003    1003 INDIVIDUAL                                      
   1047       1    1003    1003 INDIVIDUAL                                      
   1048       1    1003    1003 INDIVIDUAL                                      
   1052       1    1003    1003 INDIVIDUAL                                      
   1053       1    1003    1003 INDIVIDUAL                                      
   1054       1    1003    1003 INDIVIDUAL                                      
   1055       1    1003    1003 INDIVIDUAL                                      
   1056       1    1003    1003 INDIVIDUAL                                      

38 rows selected.

SQL> 
SQL> -- Transaction Management Example.
SQL> CREATE OR REPLACE PROCEDURE contact_insert
  2  ( pv_member_type	      VARCHAR2
  3  , pv_account_number      VARCHAR2
  4  , pv_credit_card_number  VARCHAR2
  5  , pv_credit_card_type    VARCHAR2
  6  , pv_first_name	      VARCHAR2
  7  , pv_middle_name	      VARCHAR2 := ''
  8  , pv_last_name	      VARCHAR2
  9  , pv_contact_type	      VARCHAR2
 10  , pv_address_type	      VARCHAR2
 11  , pv_city		      VARCHAR2
 12  , pv_state_province      VARCHAR2
 13  , pv_postal_code	      VARCHAR2
 14  , pv_street_address      VARCHAR2
 15  , pv_telephone_type      VARCHAR2
 16  , pv_country_code	      VARCHAR2
 17  , pv_area_code	      VARCHAR2
 18  , pv_telephone_number    VARCHAR2
 19  , pv_created_by	      NUMBER   := 1
 20  , pv_creation_date       DATE     := SYSDATE
 21  , pv_last_updated_by     NUMBER   := 1
 22  , pv_last_update_date    DATE     := SYSDATE) IS
 23  
 24    -- Local variables, to leverage subquery assignments in INSERT statements.
 25    lv_address_type	      VARCHAR2(30);
 26    lv_contact_type	      VARCHAR2(30);
 27    lv_credit_card_type    VARCHAR2(30);
 28    lv_member_type	      VARCHAR2(30);
 29    lv_telephone_type      VARCHAR2(30);
 30  
 31  BEGIN
 32    -- Assign parameter values to local variables for nested assignments to DML subqueries.
 33    lv_address_type := pv_address_type;
 34    lv_contact_type := pv_contact_type;
 35    lv_credit_card_type := pv_credit_card_type;
 36    lv_member_type := pv_member_type;
 37    lv_telephone_type := pv_telephone_type;
 38  
 39    -- Create a SAVEPOINT as a starting point.
 40    SAVEPOINT starting_point;
 41  
 42    INSERT INTO member
 43    ( member_id
 44    , member_type
 45    , account_number
 46    , credit_card_number
 47    , credit_card_type
 48    , created_by
 49    , creation_date
 50    , last_updated_by
 51    , last_update_date )
 52    VALUES
 53    ( member_s1.NEXTVAL
 54    ,(SELECT   common_lookup_id
 55  	 FROM	  common_lookup
 56  	 WHERE	  common_lookup_context = 'MEMBER'
 57  	 AND	  common_lookup_type = lv_member_type)
 58    , pv_account_number
 59    , pv_credit_card_number
 60    ,(SELECT   common_lookup_id
 61  	 FROM	  common_lookup
 62  	 WHERE	  common_lookup_context = 'MEMBER'
 63  	 AND	  common_lookup_type = lv_credit_card_type)
 64    , pv_created_by
 65    , pv_creation_date
 66    , pv_last_updated_by
 67    , pv_last_update_date );
 68  
 69    INSERT INTO contact
 70    VALUES
 71    ( contact_s1.NEXTVAL
 72    , member_s1.CURRVAL
 73    ,(SELECT   common_lookup_id
 74  	 FROM	  common_lookup
 75  	 WHERE	  common_lookup_context = 'CONTACT'
 76  	 AND	  common_lookup_type = lv_contact_type)
 77    , pv_first_name
 78    , pv_middle_name
 79    , pv_last_name
 80    , pv_created_by
 81    , pv_creation_date
 82    , pv_last_updated_by
 83    , pv_last_update_date );
 84  
 85    INSERT INTO address
 86    VALUES
 87    ( address_s1.NEXTVAL
 88    , contact_s1.CURRVAL
 89    ,(SELECT   common_lookup_id
 90  	 FROM	  common_lookup
 91  	 WHERE	  common_lookup_context = 'MULTIPLE'
 92  	 AND	  common_lookup_type = lv_address_type)
 93    , pv_city
 94    , pv_state_province
 95    , pv_postal_code
 96    , pv_created_by
 97    , pv_creation_date
 98    , pv_last_updated_by
 99    , pv_last_update_date );
100  
101    INSERT INTO street_address
102    VALUES
103    ( street_address_s1.NEXTVAL
104    , address_s1.CURRVAL
105    , pv_street_address
106    , pv_created_by
107    , pv_creation_date
108    , pv_last_updated_by
109    , pv_last_update_date );
110    dbms_output.put_line('c5');
111    INSERT INTO telephone
112    VALUES
113    ( telephone_s1.NEXTVAL				   -- TELEPHONE_ID
114    , contact_s1.CURRVAL				   -- CONTACT_ID
115    , address_s1.CURRVAL				   -- ADDRESS_ID
116    ,(SELECT   common_lookup_id			   -- ADDRESS_TYPE
117  	 FROM	  common_lookup
118  	 WHERE	  common_lookup_context = 'MULTIPLE'
119  	 AND	  common_lookup_type = lv_telephone_type)
120    , pv_country_code				   -- COUNTRY_CODE
121    , pv_area_code					   -- AREA_CODE
122    , pv_telephone_number				   -- TELEPHONE_NUMBER
123    , pv_created_by					   -- CREATED_BY
124    , pv_creation_date				   -- CREATION_DATE
125    , pv_last_updated_by				   -- LAST_UPDATED_BY
126    , pv_last_update_date);				   -- LAST_UPDATE_DATE
127  
128    COMMIT;
129  EXCEPTION
130    WHEN OTHERS THEN
131  	 ROLLBACK TO starting_point;
132  	 RETURN;
133  END contact_insert;
134  /

Procedure created.

SQL> 
SQL> -- Display any compilation errors.
SQL> SHOW ERRORS
No errors.
SQL> 
SQL> -- Insert complete contact information using stored procedure.
SQL> EXECUTE contact_insert('INDIVIDUAL','R11-514-34','1111-1111-1111-1111','VISA_CARD','Goeffrey','Ward','Clinton','CUSTOMER','HOME','Provo','Utah','84606','118 South 9th East','HOME','011','801','423-1234');
c5                                                                              

PL/SQL procedure successfully completed.

SQL> EXECUTE contact_insert('INDIVIDUAL','R11-514-35','1111-2222-1111-1111','VISA_CARD','Wendy','','Moss','CUSTOMER','HOME','Provo','Utah','84606','1218 South 10th East','HOME','011','801','423-1234');
c5                                                                              

PL/SQL procedure successfully completed.

SQL> EXECUTE contact_insert('INDIVIDUAL','R11-514-36','1111-1111-2222-1111','VISA_CARD','Simon','Jonah','Gretelz','CUSTOMER','HOME','Provo','Utah','84606','2118 South 7th East','HOME','011','801','423-1234');
c5                                                                              

PL/SQL procedure successfully completed.

SQL> EXECUTE contact_insert('INDIVIDUAL','R11-514-37','1111-1111-1111-2222','MASTER_CARD','Elizabeth','Jane','Royal','CUSTOMER','HOME','Provo','Utah','84606','2228 South 14th East','HOME','011','801','423-1234');
c5                                                                              

PL/SQL procedure successfully completed.

SQL> EXECUTE contact_insert('INDIVIDUAL','R11-514-38','1111-1111-3333-1111','VISA_CARD','Brian','Nathan','Smith','CUSTOMER','HOME','Spanish Fork','Utah','84606','333 North 2nd East','HOME','011','801','423-1234');
c5                                                                              

PL/SQL procedure successfully completed.

SQL> 
SQL> -- Verify MEMBER_TYPE values.
SQL> SELECT   m.member_id
  2  ,	      COUNT(contact_id) AS MEMBERS
  3  ,	      m.member_type
  4  ,	      cl.common_lookup_id
  5  ,	      cl.common_lookup_type
  6  FROM     member m INNER JOIN contact c
  7  ON       m.member_id = c.member_id INNER JOIN common_lookup cl
  8  ON       m.member_type = cl.common_lookup_id
  9  GROUP BY m.member_id
 10  ,	      m.member_type
 11  ,	      cl.common_lookup_id
 12  ,	      cl.common_lookup_type
 13  ORDER BY m.member_id;

                 MEMBER  MEMBER COMMON                                          
 MEMBER  MEMBER    TYPE  LOOKUP LOOKUP                                          
     ID   QTY #    ID #    ID # TYPE                                            
------- ------- ------- ------- ------------                                    
   1001       2    1004    1004 GROUP                                           
   1002       2    1004    1004 GROUP                                           
   1003       3    1004    1004 GROUP                                           
   1004       1    1003    1003 INDIVIDUAL                                      
   1005       1    1003    1003 INDIVIDUAL                                      
   1006       1    1003    1003 INDIVIDUAL                                      
   1007       1    1003    1003 INDIVIDUAL                                      
   1008       1    1003    1003 INDIVIDUAL                                      
   1012       1    1003    1003 INDIVIDUAL                                      
   1013       1    1003    1003 INDIVIDUAL                                      
   1014       1    1003    1003 INDIVIDUAL                                      
   1015       1    1003    1003 INDIVIDUAL                                      
   1016       1    1003    1003 INDIVIDUAL                                      
   1020       1    1003    1003 INDIVIDUAL                                      
   1021       1    1003    1003 INDIVIDUAL                                      
   1022       1    1003    1003 INDIVIDUAL                                      
   1023       1    1003    1003 INDIVIDUAL                                      
   1024       1    1003    1003 INDIVIDUAL                                      
   1028       1    1003    1003 INDIVIDUAL                                      
   1029       1    1003    1003 INDIVIDUAL                                      
   1030       1    1003    1003 INDIVIDUAL                                      
   1031       1    1003    1003 INDIVIDUAL                                      
   1032       1    1003    1003 INDIVIDUAL                                      
   1036       1    1003    1003 INDIVIDUAL                                      
   1037       1    1003    1003 INDIVIDUAL                                      
   1038       1    1003    1003 INDIVIDUAL                                      
   1039       1    1003    1003 INDIVIDUAL                                      
   1040       1    1003    1003 INDIVIDUAL                                      
   1044       1    1003    1003 INDIVIDUAL                                      
   1045       1    1003    1003 INDIVIDUAL                                      
   1046       1    1003    1003 INDIVIDUAL                                      
   1047       1    1003    1003 INDIVIDUAL                                      
   1048       1    1003    1003 INDIVIDUAL                                      
   1052       1    1003    1003 INDIVIDUAL                                      
   1053       1    1003    1003 INDIVIDUAL                                      
   1054       1    1003    1003 INDIVIDUAL                                      
   1055       1    1003    1003 INDIVIDUAL                                      
   1056       1    1003    1003 INDIVIDUAL                                      
   1060       1    1003    1003 INDIVIDUAL                                      
   1061       1    1003    1003 INDIVIDUAL                                      
   1062       1    1003    1003 INDIVIDUAL                                      
   1063       1    1003    1003 INDIVIDUAL                                      
   1064       1    1003    1003 INDIVIDUAL                                      

43 rows selected.

SQL> 
SQL> -- Create a transaction view.
SQL> CREATE OR REPLACE VIEW current_rental AS
  2    SELECT	m.account_number
  3    ,	c.first_name
  4    ||	DECODE(c.middle_name,NULL,' ',' '||c.middle_name||' ')
  5    ||	c.last_name FULL_NAME
  6    ,	i.item_title TITLE
  7    ,	i.item_subtitle SUBTITLE
  8    ,	SUBSTR(cl.common_lookup_meaning,1,3) PRODUCT
  9    ,	r.check_out_date
 10    ,	r.return_date
 11    FROM	common_lookup cl
 12    ,	contact c
 13    ,	item i
 14    ,	member m
 15    ,	rental r
 16    ,	rental_item ri
 17    WHERE	r.customer_id = c.contact_id
 18    AND	r.rental_id = ri.rental_id
 19    AND	ri.item_id = i.item_id
 20    AND	i.item_type = cl.common_lookup_id
 21    AND	c.member_id = m.member_id
 22    ORDER BY 1,2,3;

View created.

SQL> 
SQL> COL full_name FORMAT A16
SQL> COL title	   FORMAT A30
SQL> COL subtitle  FORMAT A4
SQL> 
SQL> SELECT   cr.full_name
  2  ,	      cr.title
  3  ,	      cr.product
  4  ,	      cr.check_out_date
  5  ,	      cr.return_date
  6  FROM     current_rental cr;

Name                                                                            
(Last, First MI) TITLE                          PRODUCT      CHECK_OUT_DATE     
---------------- ------------------------------ ------------ ------------------ 
RETURN_DATE                                                                     
------------------                                                              
Brian Winn       RoboCop                        XBO          09-FEB-18          
14-FEB-18                                                                       
                                                                                
Brian Winn       The Hunt for Red October       DVD          09-FEB-18          
14-FEB-18                                                                       
                                                                                
Doreen Vizquel   Camelot                        Blu          09-FEB-18          
14-FEB-18                                                                       
                                                                                
Doreen Vizquel   I Remember Mama                Blu          09-FEB-18          
14-FEB-18                                                                       
                                                                                
Oscar Vizquel    Star Wars I                    DVD          09-FEB-18          
14-FEB-18                                                                       
                                                                                
Oscar Vizquel    Star Wars II                   DVD          09-FEB-18          
14-FEB-18                                                                       
                                                                                
Oscar Vizquel    Star Wars III                  DVD          09-FEB-18          
14-FEB-18                                                                       
                                                                                
Ian M Sweeney    Cars                           XBO          09-FEB-18          
14-FEB-18                                                                       
                                                                                
Meaghan Sweeney  Hook                           Blu          09-FEB-18          
14-FEB-18                                                                       
                                                                                

9 rows selected.

SQL> 
SQL> SPOOL OFF
